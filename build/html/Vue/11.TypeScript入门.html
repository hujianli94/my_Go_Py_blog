<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>11. TypeScript入门 &mdash; 运维开发修炼之路</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="12. Vite" href="12.Vite.html" />
    <link rel="prev" title="10. Vue3新特性详讲" href="10.Vue3%E6%96%B0%E7%89%B9%E6%80%A7%E8%AF%A6%E8%AE%B2.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> 小健_Python_go_Devops
            <img src="../_static/python_go.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Go/index.html">Go语言学习</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Go_vs_Python/index.html">Go vs Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Python/index.html">Python全栈系列</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E4%B8%8E%E5%AE%9E%E8%B7%B5/index.html">Python测试开发入门与实践</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Vue.js企业开发实战</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01.Vue%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.html">1. Vue基础入门</a></li>
<li class="toctree-l2"><a class="reference internal" href="02.Vue%E5%86%85%E7%BD%AE%E6%8C%87%E4%BB%A4.html">2. Vue内置指令</a></li>
<li class="toctree-l2"><a class="reference internal" href="03.Vue%E5%AE%9E%E4%BE%8B%E6%A0%B8%E5%BF%83%E9%80%89%E9%A1%B9.html">3. Vue实例核心选项</a></li>
<li class="toctree-l2"><a class="reference internal" href="04.Vue%E5%B7%A5%E7%A8%8B%E5%8C%96%E9%A1%B9%E7%9B%AE.html">4. Vue工程化项目</a></li>
<li class="toctree-l2"><a class="reference internal" href="05.%E6%B7%B1%E5%85%A5%E4%BA%86%E8%A7%A3Vue%E7%BB%84%E4%BB%B6.html">5. 深入了解Vue组件</a></li>
<li class="toctree-l2"><a class="reference internal" href="06.Vue-Router%E8%B7%AF%E7%94%B1.html">6. Vue-Router路由</a></li>
<li class="toctree-l2"><a class="reference internal" href="07.Vuex%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86.html">7. Vuex状态管理</a></li>
<li class="toctree-l2"><a class="reference internal" href="08.Vue%E7%9A%84%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82.html">8. Vue的异步请求</a></li>
<li class="toctree-l2"><a class="reference internal" href="09.%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E6%B8%B2%E6%9F%93.html">9. 服务器端渲染</a></li>
<li class="toctree-l2"><a class="reference internal" href="10.Vue3%E6%96%B0%E7%89%B9%E6%80%A7%E8%AF%A6%E8%AE%B2.html">10. Vue3新特性详讲</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">11. TypeScript入门</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">11.1. 1.Typescript是什么</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">11.2. 2.为什么要用Typescript</a></li>
<li class="toctree-l3"><a class="reference internal" href="#javascript-vs-typescript">11.3. 3.JavaScript VS TypeScript</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ts">11.4. 4.TS安装</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">11.5. 5.手动编译代码</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">11.6. 6.TS基础类型</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#boolean">11.6.1. 6.1 布尔值(boolean)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#number">11.6.2. 6.2 数字(number)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#string">11.6.3. 6.3 字符串(string)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#undefinednull">11.6.4. 6.4 undefined和null</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">11.6.5. 6.5 数组</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">11.6.6. 6.6 元组</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">11.6.7. 6.7 枚举</a></li>
<li class="toctree-l4"><a class="reference internal" href="#any">11.6.8. 6.8 any</a></li>
<li class="toctree-l4"><a class="reference internal" href="#void">11.6.9. 6.9 void</a></li>
<li class="toctree-l4"><a class="reference internal" href="#object">11.6.10. 6.10 object</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">11.6.11. 6.11 联合类型</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">11.6.12. 6.12 类型断言</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">11.6.13. 6.13 类型推断</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id11">11.7. 7. 接口</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id12">11.7.1. 7.1 接口定义与使用</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id13">11.7.2. 7.2 函数类型</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14">11.7.3. 7.3 类类型</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id18">11.8. 8.类</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id19">11.8.1. 基本使用</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id20">11.8.2. 继承</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id21">11.8.3. 多态</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id22">11.8.4. 修饰符</a></li>
<li class="toctree-l4"><a class="reference internal" href="#public">11.8.5. public (默认值, 公开的外部也可以访问)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#private">11.8.6. private（只能类内部可以访问,子类也无法访问）</a></li>
<li class="toctree-l4"><a class="reference internal" href="#protected">11.8.7. protected（类内部和子类可以访问）</a></li>
<li class="toctree-l4"><a class="reference internal" href="#readonly">11.8.8. readonly</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id23">11.8.9. 存取器</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id24">11.8.10. 静态属性与方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id25">11.8.11. 抽象类</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id26">11.9. 9. 函数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id27">11.9.1. 基本示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id28">11.9.2. 函数类型</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id30">11.9.3. 完整写法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id31">11.9.4. 可选参数和默认参数</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id32">11.9.5. 剩余参数</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id33">11.9.6. 函数重载</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id34">11.10. 10.泛型</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id35">11.10.1. 函数泛型</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id36">11.10.2. 多个泛型参数的函数</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id37">11.10.3. 泛型接口</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id38">11.10.4. 泛型类</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id39">11.10.5. 泛型约束</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="12.Vite.html">12. Vite</a></li>
<li class="toctree-l2"><a class="reference internal" href="13.Vue3%E5%AE%9E%E8%B7%B5.html">13. Vue3 实践</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Vue_Node.js/index.html">Vue.js+Node.js开发实战</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">小健_Python_go_Devops</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Vue.js企业开发实战</a> &raquo;</li>
      <li><span class="section-number">11. </span>TypeScript入门</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/Vue/11.TypeScript入门.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#typescript" id="id40">TypeScript入门</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id41">1.Typescript是什么</a></p></li>
<li><p><a class="reference internal" href="#id2" id="id42">2.为什么要用Typescript</a></p></li>
<li><p><a class="reference internal" href="#javascript-vs-typescript" id="id43">3.JavaScript VS TypeScript</a></p></li>
<li><p><a class="reference internal" href="#ts" id="id44">4.TS安装</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id45">5.手动编译代码</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id46">6.TS基础类型</a></p>
<ul>
<li><p><a class="reference internal" href="#boolean" id="id47">6.1 布尔值(boolean)</a></p></li>
<li><p><a class="reference internal" href="#number" id="id48">6.2 数字(number)</a></p></li>
<li><p><a class="reference internal" href="#string" id="id49">6.3 字符串(string)</a></p></li>
<li><p><a class="reference internal" href="#undefinednull" id="id50">6.4 undefined和null</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id51">6.5 数组</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id52">6.6 元组</a></p></li>
<li><p><a class="reference internal" href="#id7" id="id53">6.7 枚举</a></p></li>
<li><p><a class="reference internal" href="#any" id="id54">6.8 any</a></p></li>
<li><p><a class="reference internal" href="#void" id="id55">6.9 void</a></p></li>
<li><p><a class="reference internal" href="#object" id="id56">6.10 object</a></p></li>
<li><p><a class="reference internal" href="#id8" id="id57">6.11 联合类型</a></p></li>
<li><p><a class="reference internal" href="#id9" id="id58">6.12 类型断言</a></p></li>
<li><p><a class="reference internal" href="#id10" id="id59">6.13 类型推断</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id11" id="id60">7. 接口</a></p>
<ul>
<li><p><a class="reference internal" href="#id12" id="id61">7.1 接口定义与使用</a></p></li>
<li><p><a class="reference internal" href="#id13" id="id62">7.2 函数类型</a></p></li>
<li><p><a class="reference internal" href="#id14" id="id63">7.3 类类型</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id18" id="id64">8.类</a></p>
<ul>
<li><p><a class="reference internal" href="#id19" id="id65">基本使用</a></p></li>
<li><p><a class="reference internal" href="#id20" id="id66">继承</a></p></li>
<li><p><a class="reference internal" href="#id21" id="id67">多态</a></p></li>
<li><p><a class="reference internal" href="#id22" id="id68">修饰符</a></p></li>
<li><p><a class="reference internal" href="#public" id="id69">public (默认值, 公开的外部也可以访问)</a></p></li>
<li><p><a class="reference internal" href="#private" id="id70">private（只能类内部可以访问,子类也无法访问）</a></p></li>
<li><p><a class="reference internal" href="#protected" id="id71">protected（类内部和子类可以访问）</a></p></li>
<li><p><a class="reference internal" href="#readonly" id="id72">readonly</a></p></li>
<li><p><a class="reference internal" href="#id23" id="id73">存取器</a></p></li>
<li><p><a class="reference internal" href="#id24" id="id74">静态属性与方法</a></p></li>
<li><p><a class="reference internal" href="#id25" id="id75">抽象类</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id26" id="id76">9. 函数</a></p>
<ul>
<li><p><a class="reference internal" href="#id27" id="id77">基本示例</a></p></li>
<li><p><a class="reference internal" href="#id28" id="id78">函数类型</a></p></li>
<li><p><a class="reference internal" href="#id30" id="id79">完整写法</a></p></li>
<li><p><a class="reference internal" href="#id31" id="id80">可选参数和默认参数</a></p></li>
<li><p><a class="reference internal" href="#id32" id="id81">剩余参数</a></p></li>
<li><p><a class="reference internal" href="#id33" id="id82">函数重载</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id34" id="id83">10.泛型</a></p>
<ul>
<li><p><a class="reference internal" href="#id35" id="id84">函数泛型</a></p></li>
<li><p><a class="reference internal" href="#id36" id="id85">多个泛型参数的函数</a></p></li>
<li><p><a class="reference internal" href="#id37" id="id86">泛型接口</a></p></li>
<li><p><a class="reference internal" href="#id38" id="id87">泛型类</a></p></li>
<li><p><a class="reference internal" href="#id39" id="id88">泛型约束</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<section id="typescript">
<h1><a class="toc-backref" href="#id40"><span class="section-number">11. </span>TypeScript入门</a><a class="headerlink" href="#typescript" title="Permalink to this headline">¶</a></h1>
<section id="id1">
<h2><a class="toc-backref" href="#id41"><span class="section-number">11.1. </span>1.Typescript是什么</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>引用其官网上的话：</p>
</div></blockquote>
<p>TypeScript是JavaScript的超集，可以编译成纯JavaScript。TypeScript可以在任何浏览器、任何计算机和任何操作系统上运行，并且是开源的。</p>
</section>
<section id="id2">
<h2><a class="toc-backref" href="#id42"><span class="section-number">11.2. </span>2.为什么要用Typescript</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p><strong>优点</strong>：</p>
<ol class="arabic simple">
<li><p>提供了类型系统和对ES6的支持</p></li>
<li><p>TypeScript增加了代码的可读性和可维护性</p></li>
<li><p>TypeScript非常包容</p></li>
<li><p>TypeScript拥有活跃的社区</p></li>
</ol>
<p><strong>缺点</strong>：</p>
<ol class="arabic simple">
<li><p>有一定的学习成本，有一些新的概念，如：接口（Interface）、泛型（Generics）、类（Classes）、枚举类型（Enums）等</p></li>
<li><p>短期可能增加一些开发成本，需要编写类型的定义，能减少长期维护的成本</p></li>
<li><p>需要集成到构建工具</p></li>
<li><p>可能和一些库的结合不是很完美</p></li>
</ol>
<p>相对于优点来说，这些缺点都是可以克服的，要拥抱变化，面向未来。</p>
</section>
<section id="javascript-vs-typescript">
<h2><a class="toc-backref" href="#id43"><span class="section-number">11.3. </span>3.JavaScript VS TypeScript</a><a class="headerlink" href="#javascript-vs-typescript" title="Permalink to this headline">¶</a></h2>
<p>2021年编程语言流行度统计上，发生了有趣的事情，常年霸榜的 JavaScript 被
PHP（拍黄片😳） 取代了，除了 PHP 的强势之外，有一部分人从 JavaScript
转到了 TypeScript！因此 TypesScript 的占用率在逐年提升。</p>
<p>虽然本质上他们都是实现了 ECMAScript 标准的语言，但 TS
引入了类型检测并且丰富了 JS，相当于是 JS 的超集，就连 Vue3 也是用 TS
写的。TS 不知不觉在前端领域中成了标配的存在。</p>
<p>使用 TS
能对我们的代码起到约束作用，同时减少我们的失误率，让更多非受迫性的问题在程序运行之前得以解决。同时配合
IDE 智能识别，为我们代码自动补全，减少开发的心智负担。</p>
<p>🏷️<strong>结论</strong>：选用 TypeScript 作为未来前端的标配。</p>
</section>
<section id="ts">
<h2><a class="toc-backref" href="#id44"><span class="section-number">11.4. </span>4.TS安装</a><a class="headerlink" href="#ts" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ npm install -g typescript
$ tsc -V
Version 4.1.5
</pre></div>
</div>
<blockquote>
<div><p>typescript演练场</p>
</div></blockquote>
<p><a class="reference external" href="https://www.typescriptlang.org/zh/play">https://www.typescriptlang.org/zh/play</a></p>
</section>
<section id="id3">
<h2><a class="toc-backref" href="#id45"><span class="section-number">11.5. </span>5.手动编译代码</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>我们使用了 .ts 扩展名，但是这段代码仅仅是
TypeScript，并不能在浏览器直接运行，需要将TypeScript转为JavaScript。</p>
<p>在命令行上，运行 TypeScript 编译器：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tsc</span> <span class="n">helloworld</span><span class="o">.</span><span class="n">ts</span>
</pre></div>
</div>
<p>输出结果为一个 <code class="docutils literal notranslate"><span class="pre">helloworld.js</span></code> 文件，它包含了和输入文件中相同的
JavaScript 代码。</p>
</section>
<section id="id4">
<h2><a class="toc-backref" href="#id46"><span class="section-number">11.6. </span>6.TS基础类型</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p><strong>注意点</strong></p>
<ol class="arabic simple">
<li><p>变量定义格式为 let 变量名:变量类型 = 变量值</p></li>
<li><p>变量开始定义的类型，后期不能把其他类型的值赋值给它</p></li>
</ol>
<section id="boolean">
<h3><a class="toc-backref" href="#id47"><span class="section-number">11.6.1. </span>6.1 布尔值(boolean)</a><a class="headerlink" href="#boolean" title="Permalink to this headline">¶</a></h3>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">flag</span>:<span class="kt">boolean</span> <span class="o">=</span> <span class="kc">true</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">flag</span><span class="p">)</span>
    <span class="nx">flag</span> <span class="o">=</span> <span class="kc">false</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">flag</span><span class="p">)</span>
<span class="p">})()</span>

<span class="c1">// 输出结果</span>
<span class="c1">// true</span>
<span class="c1">// false</span>
</pre></div>
</div>
</section>
<section id="number">
<h3><a class="toc-backref" href="#id48"><span class="section-number">11.6.2. </span>6.2 数字(number)</a><a class="headerlink" href="#number" title="Permalink to this headline">¶</a></h3>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">a1</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mf">10</span>
    <span class="kd">let</span> <span class="nx">a2</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mb">0b1010</span> <span class="c1">//二进制</span>
    <span class="kd">let</span> <span class="nx">a3</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mo">0o12</span>  <span class="c1">//八进制</span>
    <span class="kd">let</span> <span class="nx">a4</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mh">0xa</span>  <span class="c1">//十六进制</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a1</span><span class="p">,</span> <span class="nx">a2</span><span class="p">,</span> <span class="nx">a3</span><span class="p">,</span> <span class="nx">a4</span><span class="p">)</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 10 10 10 10</span>
</pre></div>
</div>
</section>
<section id="string">
<h3><a class="toc-backref" href="#id49"><span class="section-number">11.6.3. </span>6.3 字符串(string)</a><a class="headerlink" href="#string" title="Permalink to this headline">¶</a></h3>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">str1</span>:<span class="kt">string</span> <span class="o">=</span> <span class="s1">&#39;好好学习&#39;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">str1</span><span class="p">)</span>
    <span class="kd">let</span> <span class="nx">str2</span>:<span class="kt">string</span> <span class="o">=</span> <span class="nx">str1</span> <span class="o">+</span> <span class="s1">&#39;天天考&#39;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">str2</span><span class="p">)</span>
    <span class="kd">let</span> <span class="nx">num</span>:<span class="kt">number</span> <span class="o">=</span> <span class="mf">100</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">str2</span><span class="o">+</span><span class="nx">num</span><span class="p">)</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 好好学习</span>
<span class="c1">// 好好学习天天考</span>
<span class="c1">// 好好学习天天考100</span>
</pre></div>
</div>
</section>
<section id="undefinednull">
<h3><a class="toc-backref" href="#id50"><span class="section-number">11.6.4. </span>6.4 undefined和null</a><a class="headerlink" href="#undefinednull" title="Permalink to this headline">¶</a></h3>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">undef</span>: <span class="kt">undefined</span> <span class="o">=</span> <span class="kc">undefined</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">undef</span><span class="p">)</span>
    <span class="kd">let</span> <span class="nx">nll</span>: <span class="kt">null</span> <span class="o">=</span> <span class="kc">null</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">nll</span><span class="p">)</span>
    <span class="c1">// undefined和null都可以作为其他类型的子类型（把undefined和null赋值给其他类型）</span>
    <span class="kd">let</span> <span class="nx">num</span>: <span class="kt">number</span> <span class="o">=</span> <span class="kc">undefined</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span>
    <span class="kd">let</span> <span class="nx">str</span>: <span class="kt">string</span> <span class="o">=</span> <span class="kc">null</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// undefined</span>
<span class="c1">// null</span>
<span class="c1">// undefined</span>
<span class="c1">// null</span>
</pre></div>
</div>
</section>
<section id="id5">
<h3><a class="toc-backref" href="#id51"><span class="section-number">11.6.5. </span>6.5 数组</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>列表中元素的数据类型必须和定义的数据类型一致，否则报错</p>
</div></blockquote>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// 普通定义</span>
    <span class="kd">let</span> <span class="nx">arr1</span>: <span class="kt">number</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">]</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr1</span><span class="p">)</span>
    <span class="c1">// 泛型定义</span>
    <span class="kd">let</span> <span class="nx">arr2</span>: <span class="kt">Array</span><span class="o">&lt;</span><span class="kt">number</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10</span><span class="p">,</span> <span class="mf">20</span><span class="p">,</span> <span class="mf">30</span><span class="p">]</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr2</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr2</span><span class="p">[</span><span class="mf">0</span><span class="p">])</span>
<span class="p">})()</span>

<span class="c1">// [1, 2, 3]</span>
<span class="c1">// [10, 20, 30]</span>
<span class="c1">// 10</span>
</pre></div>
</div>
</section>
<section id="id6">
<h3><a class="toc-backref" href="#id52"><span class="section-number">11.6.6. </span>6.6 元组</a><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>如果想存储不同类型的值到一个列表中，使用元组。在定义元组的时候，类型和个数就已经限定了，赋值时，数据类型和个数与定义的一致</p>
</div></blockquote>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">tup1</span><span class="o">:</span> <span class="p">[</span><span class="kt">number</span><span class="p">,</span><span class="kt">string</span><span class="p">,</span><span class="kr">boolean</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span> <span class="s1">&#39;111&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">]</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tup1</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tup1</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">toFixed</span><span class="p">(</span><span class="mf">2</span><span class="p">))</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tup1</span><span class="p">[</span><span class="mf">1</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">))</span>
<span class="p">})()</span>

<span class="c1">// [1, &quot;111&quot;, true]</span>
<span class="c1">// &quot;1.00&quot;</span>
<span class="c1">// [&quot;1&quot;, &quot;1&quot;, &quot;1&quot;]</span>
</pre></div>
</div>
</section>
<section id="id7">
<h3><a class="toc-backref" href="#id53"><span class="section-number">11.6.7. </span>6.7 枚举</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>存储的值在确定的情况下使用，比如男女。默认情况下，枚举里面的每个元素都有自己的编号值，默认从0开始递增，也可以指定编号值</p>
</div></blockquote>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">enum</span> <span class="nx">Level1</span> <span class="p">{</span>
        <span class="nx">good</span><span class="p">,</span>
        <span class="nx">general</span><span class="p">,</span>
        <span class="nx">bad</span>
    <span class="p">}</span>

    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Level1</span><span class="p">.</span><span class="nx">good</span><span class="p">,</span> <span class="nx">Level1</span><span class="p">.</span><span class="nx">general</span><span class="p">,</span> <span class="nx">Level1</span><span class="p">.</span><span class="nx">bad</span><span class="p">)</span>

    <span class="kd">enum</span> <span class="nx">Level2</span> <span class="p">{</span>
        <span class="nx">good</span> <span class="o">=</span> <span class="mf">10</span><span class="p">,</span>
        <span class="nx">general</span> <span class="o">=</span> <span class="mf">20</span><span class="p">,</span>
        <span class="nx">bad</span> <span class="o">=</span> <span class="mf">30</span>
    <span class="p">}</span>

    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Level2</span><span class="p">.</span><span class="nx">good</span><span class="p">,</span> <span class="nx">Level2</span><span class="p">.</span><span class="nx">general</span><span class="p">,</span> <span class="nx">Level2</span><span class="p">.</span><span class="nx">bad</span><span class="p">)</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 0 1 2</span>
<span class="c1">// 10 20 30</span>
</pre></div>
</div>
</section>
<section id="any">
<h3><a class="toc-backref" href="#id54"><span class="section-number">11.6.8. </span>6.8 any</a><a class="headerlink" href="#any" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>当一个数组中存储数据的类型和数量不确定时，可以使用any来定义数组</p></li>
<li><p>但是在调用数组元素时，不会对类型进行检测（开发提示）</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="n">let</span> <span class="n">arr1</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">arr1</span><span class="p">)</span>
    <span class="n">let</span> <span class="n">arr2</span><span class="p">:</span> <span class="nb">any</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">123</span><span class="p">,</span> <span class="s1">&#39;qwer&#39;</span><span class="p">,</span> <span class="n">true</span><span class="p">]</span>
    <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span>
    <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">arr2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">))</span>
<span class="p">})()</span>
</pre></div>
</div>
</section>
<section id="void">
<h3><a class="toc-backref" href="#id55"><span class="section-number">11.6.9. </span>6.9 void</a><a class="headerlink" href="#void" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>在声明函数的时候，小括号后面使用:void，代表这个函数没有任何返回值</p>
</div></blockquote>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">say</span><span class="p">()</span><span class="o">:</span><span class="k">void</span><span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">say</span><span class="p">())</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// hello</span>
<span class="c1">// undefined</span>
</pre></div>
</div>
</section>
<section id="object">
<h3><a class="toc-backref" href="#id56"><span class="section-number">11.6.10. </span>6.10 object</a><a class="headerlink" href="#object" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>和js对象用法类似，多了类型检测</p>
</div></blockquote>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">getObj</span><span class="p">(</span><span class="nx">obj</span>:<span class="kt">object</span><span class="p">)</span><span class="o">:</span><span class="nx">object</span><span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;李四&#39;</span><span class="p">,</span>
            <span class="nx">age</span>:<span class="kt">20</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getObj</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;张三&#39;</span><span class="p">,</span><span class="nx">age</span>:<span class="kt">18</span><span class="p">}))</span>
<span class="p">})()</span>
</pre></div>
</div>
</section>
<section id="id8">
<h3><a class="toc-backref" href="#id57"><span class="section-number">11.6.11. </span>6.11 联合类型</a><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>值的类型不确定时，可以使用|将多个可能的类型写到一起，表示取值可以为多种其中一种类型</p>
</div></blockquote>
<ul class="simple">
<li><p>例如：定义一个函数，参数类型为数字或字符串</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">getValue</span><span class="p">(</span><span class="nx">value</span>:<span class="kt">number</span><span class="o">|</span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="kt">string</span><span class="p">{</span>
        <span class="k">return</span> <span class="nx">value</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getValue</span><span class="p">(</span><span class="mf">123</span><span class="p">))</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getValue</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">))</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 123</span>
<span class="c1">// abc</span>
</pre></div>
</div>
</section>
<section id="id9">
<h3><a class="toc-backref" href="#id58"><span class="section-number">11.6.12. </span>6.12 类型断言</a><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>使用联合类型时，编译器并不知道值具体是什么类型，调用相关类型的方法时会报错，此时通过类型断言这种方式可以告诉编译器，“相信我，我知道自己在干什么”。</p>
</div></blockquote>
<ul class="simple">
<li><p>语法</p></li>
</ul>
<p>方式一: 值</p>
<p>方式二: 值 as 类型 tsx中只能用这种方式</p>
<ul class="simple">
<li><p>需求: 定义一个函数得到一个字符串或者数值数据的长度</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">getLength</span><span class="p">(</span><span class="nx">x</span>: <span class="kt">number</span> <span class="o">|</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">((</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span><span class="nx">x</span><span class="p">).</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// 是否存在length方法，如果是string类型，条件为true</span>
            <span class="k">return</span> <span class="p">(</span><span class="nx">x</span> <span class="kr">as</span> <span class="kt">string</span><span class="p">).</span><span class="nx">length</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">x</span><span class="p">.</span><span class="nx">toString</span><span class="p">().</span><span class="nx">length</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getLength</span><span class="p">(</span><span class="s1">&#39;abcd&#39;</span><span class="p">))</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getLength</span><span class="p">(</span><span class="mf">1234</span><span class="p">))</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 4</span>
<span class="c1">// 4</span>
</pre></div>
</div>
</section>
<section id="id10">
<h3><a class="toc-backref" href="#id59"><span class="section-number">11.6.13. </span>6.13 类型推断</a><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>TS会在没有明确的指定类型的时候推测出一个类型</p>
</div></blockquote>
<ul class="simple">
<li><p>有下面2种情况</p></li>
</ul>
<ol class="arabic simple">
<li><p>定义变量时赋值了, 推断为对应的类型.</p></li>
<li><p>定义变量时没有赋值, 推断为any类型</p></li>
</ol>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="cm">/* 定义变量时赋值了, 推断为对应的类型 */</span>
<span class="kd">let</span> <span class="nx">b9</span> <span class="o">=</span> <span class="mf">123</span> <span class="c1">// number</span>
<span class="c1">// b9 = &#39;abc&#39; // error</span>

<span class="cm">/* 定义变量时没有赋值, 推断为any类型 */</span>
<span class="kd">let</span> <span class="nx">b10</span>  <span class="c1">// any类型</span>
<span class="nx">b10</span> <span class="o">=</span> <span class="mf">123</span>
<span class="nx">b10</span> <span class="o">=</span> <span class="s1">&#39;abc&#39;</span>
</pre></div>
</div>
</section>
</section>
<section id="id11">
<h2><a class="toc-backref" href="#id60"><span class="section-number">11.7. </span>7. 接口</a><a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>TypeScript
的核心原则之一是对值所具有的结构进行类型检查。我们使用接口（Interfaces）来定义对象的类型。</p>
<p>接口是对象的状态(属性)和行为(方法)的抽象(描述)</p>
</div></blockquote>
<section id="id12">
<h3><a class="toc-backref" href="#id61"><span class="section-number">11.7.1. </span>7.1 接口定义与使用</a><a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>接口类型的对象</p></li>
</ul>
<p>多了或者少了属性是不允许的</p>
<p>可选属性: ?</p>
<p>只读属性: readonly</p>
<ul class="simple">
<li><p>需求: 创建人的对象, 需要对人的属性进行一定的约束</p></li>
</ul>
<p>id是number类型, 必须有, 只读的</p>
<p>name是string类型, 必须有</p>
<p>age是number类型, 必须有</p>
<p>sex是string类型, 可以没有</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 定义人的接口，改接口作为person对象的类型使用，限定该对象中的属性数据</span>
  <span class="kd">interface</span> <span class="nx">IPerson</span> <span class="p">{</span>
    <span class="c1">// id是只读属性</span>
    <span class="k">readonly</span> <span class="nx">id</span>: <span class="kt">number</span>
    <span class="nx">name</span>: <span class="kt">string</span>
    <span class="nx">age</span>: <span class="kt">number</span>
    <span class="c1">// sex可以不存在</span>
    <span class="nx">sex?</span>: <span class="kt">string</span>
  <span class="p">}</span>
  <span class="c1">// 定义一个对象，类型为前面定义的接口IPerson</span>
  <span class="kd">const</span> <span class="nx">person1</span>: <span class="kt">IPerson</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">id</span>: <span class="kt">1</span><span class="p">,</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;tom&#39;</span><span class="p">,</span>
    <span class="nx">age</span>: <span class="kt">20</span><span class="p">,</span>
    <span class="nx">sex</span><span class="o">:</span> <span class="s1">&#39;男&#39;</span>
  <span class="p">}</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person1</span><span class="p">)</span>
<span class="p">})()</span>
<span class="c1">// 执行结果</span>
<span class="c1">// {id: 1, name: &quot;tom&quot;, age: 20, sex: &quot;男&quot;}</span>
</pre></div>
</div>
</section>
<section id="id13">
<h3><a class="toc-backref" href="#id62"><span class="section-number">11.7.2. </span>7.2 函数类型</a><a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>为了使用接口表示函数类型，需要给接口定义一个调用签名</p>
<p>它就像是一个只有参数列表和返回值类型的函数定义，参数列表中的每个参数都需要名字和类型</p>
</div></blockquote>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 定义一个接口，作为函数的类型使用</span>
  <span class="kd">interface</span> <span class="nx">SearchFunc</span> <span class="p">{</span>
    <span class="p">(</span><span class="nx">source</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">subString</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="kr">boolean</span>
  <span class="p">}</span>
  <span class="c1">// 定义一个函数，类型为前面定义的接口IPerson</span>
  <span class="kd">const</span> <span class="nx">mySearch</span>: <span class="kt">SearchFunc</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">source</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">sub</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="kr">boolean</span> <span class="p">{</span>
    <span class="c1">// 在source字符串中查找是否存在sub字符串</span>
    <span class="k">return</span> <span class="nx">source</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="nx">sub</span><span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mf">1</span>
  <span class="p">}</span>
  <span class="c1">// 调用函数</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">mySearch</span><span class="p">(</span><span class="s1">&#39;abcd&#39;</span><span class="p">,</span> <span class="s1">&#39;bc&#39;</span><span class="p">))</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// true</span>
</pre></div>
</div>
</section>
<section id="id14">
<h3><a class="toc-backref" href="#id63"><span class="section-number">11.7.3. </span>7.3 类类型</a><a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>与 C# 或 Java 里接口的基本作用一样，TypeScript
也能够用它来明确的强制一个类去符合某种契约。</p>
<p>接口中定义的方法，在类中都要实现</p>
</div></blockquote>
<section id="id15">
<h4>类实现接口<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 定义一个接口，作为类的类型使用</span>
  <span class="kd">interface</span> <span class="nx">IFly</span> <span class="p">{</span>
    <span class="c1">// 该方法没有任何的实现（方法中什么都没有）</span>
    <span class="nx">fly</span><span class="p">()</span>
  <span class="p">}</span>

  <span class="c1">// 定义一个类，这个类的类型就是上面定义的接口（IFly接口约束了当前这个类）</span>
  <span class="kd">class</span> <span class="nx">Person</span> <span class="k">implements</span> <span class="nx">IFly</span> <span class="p">{</span>
    <span class="c1">// 实现接口中的方法</span>
    <span class="nx">fly</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;起飞了&#39;</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// 实例化对象</span>
  <span class="kd">const</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">()</span>
  <span class="nx">person</span><span class="p">.</span><span class="nx">fly</span><span class="p">()</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 起飞了</span>
</pre></div>
</div>
</section>
<section id="id16">
<h4>一个类可以实现多个接口<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 定义一个接口，作为类的类型使用</span>
  <span class="kd">interface</span> <span class="nx">IFly</span> <span class="p">{</span>
    <span class="c1">// 该方法没有任何的实现（方法中什么都没有）</span>
    <span class="nx">fly</span><span class="p">()</span>
  <span class="p">}</span>

<span class="c1">// 定义另一个接口，作为类的类型使用</span>
  <span class="kd">interface</span> <span class="nx">ISay</span> <span class="p">{</span>
    <span class="c1">// 该方法没有任何的实现（方法中什么都没有）</span>
    <span class="nx">say</span><span class="p">()</span>
  <span class="p">}</span>

  <span class="c1">// 定义一个类，这个类的类型就是上面定义的接口（IFly接口约束了当前这个类）</span>
  <span class="kd">class</span> <span class="nx">Person</span> <span class="k">implements</span> <span class="nx">IFly</span><span class="p">,</span> <span class="nx">ISay</span> <span class="p">{</span>
    <span class="c1">// 实现接口中的方法</span>
    <span class="nx">fly</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;起飞了&#39;</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="nx">say</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;说话了&#39;</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// 实例化对象</span>
  <span class="kd">const</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">()</span>
  <span class="nx">person</span><span class="p">.</span><span class="nx">fly</span><span class="p">()</span>
  <span class="nx">person</span><span class="p">.</span><span class="nx">say</span><span class="p">()</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 起飞了</span>
<span class="c1">// 说话了</span>
</pre></div>
</div>
</section>
<section id="id17">
<h4>接口继承接口<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h4>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 定义一个接口，作为类的类型使用</span>
  <span class="kd">interface</span> <span class="nx">IFly</span> <span class="p">{</span>
    <span class="c1">// 该方法没有任何的实现（方法中什么都没有）</span>
    <span class="nx">fly</span><span class="p">()</span>
  <span class="p">}</span>

  <span class="c1">// 定义另一个接口，作为类的类型使用</span>
  <span class="kd">interface</span> <span class="nx">ISay</span> <span class="p">{</span>
    <span class="c1">// 该方法没有任何的实现（方法中什么都没有）</span>
    <span class="nx">say</span><span class="p">()</span>
  <span class="p">}</span>

  <span class="c1">// 定义一个接口，它继承了前面两个接口</span>
  <span class="kd">interface</span> <span class="nx">IFlyAndISay</span> <span class="k">extends</span> <span class="nx">IFly</span><span class="p">,</span> <span class="nx">ISay</span> <span class="p">{</span>
  <span class="p">}</span>

  <span class="c1">// 定义一个类，这个类的类型就是上面定义的继承接口</span>
  <span class="kd">class</span> <span class="nx">Person</span> <span class="k">implements</span> <span class="nx">IFlyAndISay</span> <span class="p">{</span>
    <span class="c1">// 实现接口中的方法</span>
    <span class="nx">fly</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;起飞了&#39;</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="nx">say</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;说话了&#39;</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// 实例化对象</span>
  <span class="kd">const</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">()</span>
  <span class="nx">person</span><span class="p">.</span><span class="nx">fly</span><span class="p">()</span>
  <span class="nx">person</span><span class="p">.</span><span class="nx">say</span><span class="p">()</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 起飞了</span>
<span class="c1">// 说话了</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="id18">
<h2><a class="toc-backref" href="#id64"><span class="section-number">11.8. </span>8.类</a><a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h2>
<section id="id19">
<h3><a class="toc-backref" href="#id65"><span class="section-number">11.8.1. </span>基本使用</a><a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">class</span> <span class="nx">Person</span> <span class="p">{</span>
    <span class="c1">// 定义属性</span>
    <span class="nx">name</span>: <span class="kt">string</span>
    <span class="nx">age</span>: <span class="kt">number</span>

    <span class="c1">// 构造方法，实例化对象的时候，直接对属性的值进行初始化</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">name</span>: <span class="kt">string</span> <span class="o">=</span> <span class="s1">&#39;张三&#39;</span><span class="p">,</span> <span class="nx">age</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mf">18</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// 更新对象中的属性数据</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span>
    <span class="p">}</span>

    <span class="c1">// 实例方法</span>
    <span class="nx">sayHi</span><span class="p">(</span><span class="nx">message</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span> <span class="p">{</span>
      <span class="k">return</span> <span class="s1">&#39;大家好，我叫&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;我今年&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">+</span> <span class="s1">&#39;岁了，我对大家说：&#39;</span> <span class="o">+</span> <span class="nx">message</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// 创建类的实例，使用默认属性</span>
  <span class="kd">const</span> <span class="nx">person1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">()</span>
  <span class="c1">// 调用实例的方法</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person1</span><span class="p">.</span><span class="nx">sayHi</span><span class="p">(</span><span class="s1">&#39;你好啊&#39;</span><span class="p">))</span>
  <span class="c1">// 创建类的实例，使用自定义属性</span>
  <span class="kd">const</span> <span class="nx">person2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s1">&#39;李四&#39;</span><span class="p">,</span> <span class="mf">20</span><span class="p">)</span>
  <span class="c1">// 调用实例的方法</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person2</span><span class="p">.</span><span class="nx">sayHi</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">))</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 大家好，我叫张三我今年18岁了，我对大家说：你好啊</span>
<span class="c1">// 大家好，我叫李四我今年20岁了，我对大家说：hello</span>
</pre></div>
</div>
</section>
<section id="id20">
<h3><a class="toc-backref" href="#id66"><span class="section-number">11.8.2. </span>继承</a><a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 定义一个父类（超类）</span>
  <span class="kd">class</span> <span class="nx">Person</span> <span class="p">{</span>
    <span class="c1">// 定义属性</span>
    <span class="nx">name</span>: <span class="kt">string</span>
    <span class="nx">age</span>: <span class="kt">number</span>

    <span class="c1">// 构造方法，实例化对象的时候，直接对属性的值进行初始化</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">name</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">age</span>: <span class="kt">number</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// 更新对象中的属性数据</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span>
    <span class="p">}</span>

    <span class="c1">// 实例方法</span>
    <span class="nx">sayHi</span><span class="p">(</span><span class="nx">message</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span> <span class="p">{</span>
      <span class="k">return</span> <span class="s1">&#39;大家好，我叫&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;我今年&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">+</span> <span class="s1">&#39;岁了，我对大家说：&#39;</span> <span class="o">+</span> <span class="nx">message</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// 定义一个子类（派生类）</span>
  <span class="kd">class</span> <span class="nx">Student</span> <span class="k">extends</span> <span class="nx">Person</span> <span class="p">{</span>
    <span class="c1">// 调用父类中的构造函数</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">name</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">age</span>: <span class="kt">number</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">super</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="nx">age</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// 继承父类中的方法</span>
    <span class="nx">sayHi</span><span class="p">(</span><span class="nx">message</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">super</span><span class="p">.</span><span class="nx">sayHi</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// 创建类的实例，使用自定义属性</span>
  <span class="kd">const</span> <span class="nx">student</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Student</span><span class="p">(</span><span class="s1">&#39;李四&#39;</span><span class="p">,</span> <span class="mf">20</span><span class="p">)</span>
  <span class="c1">// 调用实例的方法</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">student</span><span class="p">.</span><span class="nx">sayHi</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">))</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 大家好，我叫李四我今年20岁了，我对大家说：hello</span>
</pre></div>
</div>
</section>
<section id="id21">
<h3><a class="toc-backref" href="#id67"><span class="section-number">11.8.3. </span>多态</a><a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>父类型的引用指向了子类型的对象，不同类型的对象针对相同的方法产生了不同的行为</p>
</div></blockquote>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 定义一个父类（超类）</span>
  <span class="kd">class</span> <span class="nx">Person</span> <span class="p">{</span>
    <span class="c1">// 定义属性</span>
    <span class="nx">name</span>: <span class="kt">string</span>

    <span class="c1">// 构造方法，实例化对象的时候，直接对属性的值进行初始化</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">name</span>: <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// 跟鞋对象中的属性数据</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span>
    <span class="p">}</span>

    <span class="c1">// 实例方法</span>
    <span class="nx">run</span><span class="p">(</span><span class="nx">num</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mf">0</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span> <span class="p">{</span>
      <span class="k">return</span> <span class="s1">&#39;大家好，我叫&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;我跑了&#39;</span> <span class="o">+</span> <span class="nx">num</span> <span class="o">+</span> <span class="s1">&#39;米&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// 定义第一个子类（派生类）</span>
  <span class="kd">class</span> <span class="nx">Student</span> <span class="k">extends</span> <span class="nx">Person</span> <span class="p">{</span>
    <span class="c1">// 调用父类中的构造函数</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">name</span>: <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">super</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// 重写父类中的方法</span>
    <span class="nx">run</span><span class="p">(</span><span class="nx">num</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mf">5</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span> <span class="p">{</span>
      <span class="k">return</span> <span class="s1">&#39;大家好，我叫&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;我跑了&#39;</span> <span class="o">+</span> <span class="nx">num</span> <span class="o">+</span> <span class="s1">&#39;米&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// 定义第二个子类（派生类）</span>
  <span class="kd">class</span> <span class="nx">Teacher</span> <span class="k">extends</span> <span class="nx">Person</span> <span class="p">{</span>
    <span class="c1">// 调用父类中的构造函数</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">name</span>: <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">super</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// 重写父类中的方法</span>
    <span class="nx">run</span><span class="p">(</span><span class="nx">num</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mf">10</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span> <span class="p">{</span>
      <span class="k">return</span> <span class="s1">&#39;大家好，我叫&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;我跑了&#39;</span> <span class="o">+</span> <span class="nx">num</span> <span class="o">+</span> <span class="s1">&#39;米&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// 创建父类的实例</span>
  <span class="kd">const</span> <span class="nx">person1</span>: <span class="kt">Person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s1">&#39;张三&#39;</span><span class="p">)</span>
  <span class="c1">// 调用实例的方法</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person1</span><span class="p">.</span><span class="nx">run</span><span class="p">())</span>
  <span class="c1">// 创建子类1的对象</span>
  <span class="kd">const</span> <span class="nx">student1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Student</span><span class="p">(</span><span class="s1">&#39;李四&#39;</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">student1</span><span class="p">.</span><span class="nx">run</span><span class="p">())</span>
  <span class="c1">// 创建子类2的对象</span>
  <span class="kd">const</span> <span class="nx">teacher1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Teacher</span><span class="p">(</span><span class="s1">&#39;王五&#39;</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">teacher1</span><span class="p">.</span><span class="nx">run</span><span class="p">())</span>
  <span class="c1">// 创建父类的实例</span>
  <span class="kd">const</span> <span class="nx">person2</span>: <span class="kt">Person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s1">&#39;张三&#39;</span><span class="p">)</span>
  <span class="c1">// 调用实例的方法</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person2</span><span class="p">.</span><span class="nx">run</span><span class="p">())</span>
  <span class="c1">// 使用父类型创建子类1的对象</span>
  <span class="kd">const</span> <span class="nx">student2</span>: <span class="kt">Person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Student</span><span class="p">(</span><span class="s1">&#39;李四&#39;</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">student2</span><span class="p">.</span><span class="nx">run</span><span class="p">())</span>
  <span class="c1">// 创建使用父类型创建子类2的对象</span>
  <span class="kd">const</span> <span class="nx">teacher2</span>: <span class="kt">Person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Teacher</span><span class="p">(</span><span class="s1">&#39;王五&#39;</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">teacher2</span><span class="p">.</span><span class="nx">run</span><span class="p">())</span>

  <span class="c1">// 定义函数，该函数需要传入参数是Person类型的</span>
  <span class="kd">function</span> <span class="nx">showRun</span><span class="p">(</span><span class="nx">per</span>: <span class="kt">Person</span><span class="p">)</span><span class="o">:</span><span class="k">void</span><span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">per</span><span class="p">.</span><span class="nx">run</span><span class="p">())</span>
  <span class="p">}</span>
  <span class="nx">showRun</span><span class="p">(</span><span class="nx">person2</span><span class="p">)</span>
  <span class="nx">showRun</span><span class="p">(</span><span class="nx">student2</span><span class="p">)</span>
  <span class="nx">showRun</span><span class="p">(</span><span class="nx">teacher2</span><span class="p">)</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 大家好，我叫张三我跑了0米</span>
<span class="c1">// 大家好，我叫李四我跑了5米</span>
<span class="c1">// 大家好，我叫王五我跑了10米</span>
<span class="c1">// 大家好，我叫张三我跑了0米</span>
<span class="c1">// 大家好，我叫李四我跑了5米</span>
<span class="c1">// 大家好，我叫王五我跑了10米</span>
<span class="c1">// 大家好，我叫张三我跑了0米</span>
<span class="c1">// 大家好，我叫李四我跑了5米</span>
<span class="c1">// 大家好，我叫王五我跑了10米</span>
</pre></div>
</div>
</section>
<section id="id22">
<h3><a class="toc-backref" href="#id68"><span class="section-number">11.8.4. </span>修饰符</a><a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>主要用于描述类中的成员（属性，构造函数，方法）的可访问性，默认是pubile，公共的，任何位置都可以访问类中的成员</p>
</div></blockquote>
</section>
<section id="public">
<h3><a class="toc-backref" href="#id69"><span class="section-number">11.8.5. </span>public (默认值, 公开的外部也可以访问)</a><a class="headerlink" href="#public" title="Permalink to this headline">¶</a></h3>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 定义一个父类（超类）</span>
  <span class="kd">class</span> <span class="nx">Person</span> <span class="p">{</span>
    <span class="c1">// 定义属性</span>
    <span class="k">public</span> <span class="nx">name</span>: <span class="kt">string</span>

    <span class="c1">// 构造方法，实例化对象的时候，直接对属性的值进行初始化</span>
    <span class="k">public</span> <span class="kr">constructor</span><span class="p">(</span><span class="nx">name</span>: <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// 更新对象中的属性数据</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span>
    <span class="p">}</span>

    <span class="c1">// 实例方法</span>
    <span class="k">public</span> <span class="nx">run</span><span class="p">(</span><span class="nx">num</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mf">0</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span> <span class="p">{</span>
      <span class="k">return</span> <span class="s1">&#39;大家好，我叫&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;我跑了&#39;</span> <span class="o">+</span> <span class="nx">num</span> <span class="o">+</span> <span class="s1">&#39;米&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})()</span>
<span class="c1">// 创建父类的实例</span>
<span class="kd">const</span> <span class="nx">person1</span>: <span class="kt">Person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s1">&#39;张三&#39;</span><span class="p">)</span>
<span class="c1">// 类的外部访问类中的成员属性</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person1</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>
<span class="c1">// 类的外部访问类中的成员方法</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person1</span><span class="p">.</span><span class="nx">run</span><span class="p">())</span>
<span class="c1">// 执行结果</span>
<span class="c1">// 张三</span>
<span class="c1">// 大家好，我叫张三我跑了0米</span>
</pre></div>
</div>
</section>
<section id="private">
<h3><a class="toc-backref" href="#id70"><span class="section-number">11.8.6. </span>private（只能类内部可以访问,子类也无法访问）</a><a class="headerlink" href="#private" title="Permalink to this headline">¶</a></h3>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 定义一个父类（超类）</span>
  <span class="kd">class</span> <span class="nx">Person</span> <span class="p">{</span>
    <span class="c1">// 定义属性</span>
    <span class="k">private</span> <span class="nx">name</span>: <span class="kt">string</span>

    <span class="c1">// 构造方法，实例化对象的时候，直接对属性的值进行初始化</span>
    <span class="k">private</span> <span class="kr">constructor</span><span class="p">(</span><span class="nx">name</span>: <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// 更新对象中的属性数据</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span>
    <span class="p">}</span>

    <span class="c1">// 实例方法</span>
    <span class="k">private</span> <span class="nx">run</span><span class="p">(</span><span class="nx">num</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mf">0</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span> <span class="p">{</span>
      <span class="k">return</span> <span class="s1">&#39;大家好，我叫&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;我跑了&#39;</span> <span class="o">+</span> <span class="nx">num</span> <span class="o">+</span> <span class="s1">&#39;米&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// 定义第一个子类（派生类）</span>
  <span class="kd">class</span> <span class="nx">Student</span> <span class="k">extends</span> <span class="nx">Person</span> <span class="p">{</span>
    <span class="c1">// 调用父类中的构造函数</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">name</span>: <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">super</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// 重写父类中的方法</span>
    <span class="nx">run</span><span class="p">(</span><span class="nx">num</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mf">5</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span> <span class="p">{</span>
      <span class="k">return</span> <span class="s1">&#39;大家好，我叫&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;我跑了&#39;</span> <span class="o">+</span> <span class="nx">num</span> <span class="o">+</span> <span class="s1">&#39;米&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// 创建父类的实例</span>
  <span class="kd">const</span> <span class="nx">person1</span>: <span class="kt">Person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s1">&#39;张三&#39;</span><span class="p">)</span>
  <span class="c1">// 类的外部访问类中的成员属性</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person1</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>
  <span class="c1">// 类的外部访问类中的成员方法</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person1</span><span class="p">.</span><span class="nx">run</span><span class="p">())</span>
  <span class="c1">// 创建子类1的对象</span>
  <span class="kd">const</span> <span class="nx">student</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Student</span><span class="p">(</span><span class="s1">&#39;李四&#39;</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">student</span><span class="p">.</span><span class="nx">run</span><span class="p">())</span>
<span class="p">})()</span>
<span class="nx">one</span><span class="p">.</span><span class="nx">ts</span><span class="p">(</span><span class="mf">20</span><span class="p">,</span><span class="mf">9</span><span class="p">)</span><span class="o">:</span> <span class="nx">error</span> <span class="nx">TS2415</span>: <span class="kt">Class</span> <span class="s1">&#39;Student&#39;</span> <span class="nx">incorrectly</span> <span class="k">extends</span> <span class="nx">base</span> <span class="kd">class</span> <span class="s1">&#39;Person&#39;</span><span class="p">.</span>
  <span class="nx">Property</span> <span class="s1">&#39;run&#39;</span> <span class="nx">is</span> <span class="k">private</span> <span class="k">in</span> <span class="kd">type</span> <span class="s1">&#39;Person&#39;</span> <span class="nx">but</span> <span class="nx">not</span> <span class="k">in</span> <span class="kd">type</span> <span class="s1">&#39;Student&#39;</span><span class="p">.</span>
<span class="nx">one</span><span class="p">.</span><span class="nx">ts</span><span class="p">(</span><span class="mf">20</span><span class="p">,</span><span class="mf">25</span><span class="p">)</span><span class="o">:</span> <span class="nx">error</span> <span class="nx">TS2675</span>: <span class="kt">Cannot</span> <span class="nx">extend</span> <span class="nx">a</span> <span class="kd">class</span> <span class="s1">&#39;Person&#39;</span><span class="p">.</span> <span class="nx">Class</span> <span class="kr">constructor</span> <span class="nx">is</span> <span class="nx">marked</span> <span class="kr">as</span> <span class="k">private</span><span class="p">.</span>
<span class="nx">one</span><span class="p">.</span><span class="nx">ts</span><span class="p">(</span><span class="mf">28</span><span class="p">,</span><span class="mf">30</span><span class="p">)</span><span class="o">:</span> <span class="nx">error</span> <span class="nx">TS2341</span>: <span class="kt">Property</span> <span class="s1">&#39;name&#39;</span> <span class="nx">is</span> <span class="k">private</span> <span class="nx">and</span> <span class="nx">only</span> <span class="nx">accessible</span> <span class="nx">within</span> <span class="kd">class</span> <span class="s1">&#39;Person&#39;</span><span class="p">.</span>
<span class="nx">one</span><span class="p">.</span><span class="nx">ts</span><span class="p">(</span><span class="mf">32</span><span class="p">,</span><span class="mf">27</span><span class="p">)</span><span class="o">:</span> <span class="nx">error</span> <span class="nx">TS2673</span>: <span class="kt">Constructor</span> <span class="k">of</span> <span class="kd">class</span> <span class="s1">&#39;Person&#39;</span> <span class="nx">is</span> <span class="k">private</span> <span class="nx">and</span> <span class="nx">only</span> <span class="nx">accessible</span> <span class="nx">within</span> <span class="nx">the</span> <span class="kd">class</span> <span class="nx">declaration</span><span class="p">.</span>
<span class="nx">one</span><span class="p">.</span><span class="nx">ts</span><span class="p">(</span><span class="mf">34</span><span class="p">,</span><span class="mf">23</span><span class="p">)</span><span class="o">:</span> <span class="nx">error</span> <span class="nx">TS2341</span>: <span class="kt">Property</span> <span class="s1">&#39;name&#39;</span> <span class="nx">is</span> <span class="k">private</span> <span class="nx">and</span> <span class="nx">only</span> <span class="nx">accessible</span> <span class="nx">within</span> <span class="kd">class</span> <span class="s1">&#39;Person&#39;</span><span class="p">.</span>
<span class="nx">one</span><span class="p">.</span><span class="nx">ts</span><span class="p">(</span><span class="mf">36</span><span class="p">,</span><span class="mf">23</span><span class="p">)</span><span class="o">:</span> <span class="nx">error</span> <span class="nx">TS2341</span>: <span class="kt">Property</span> <span class="s1">&#39;run&#39;</span> <span class="nx">is</span> <span class="k">private</span> <span class="nx">and</span> <span class="nx">only</span> <span class="nx">accessible</span> <span class="nx">within</span> <span class="kd">class</span> <span class="s1">&#39;Person&#39;</span><span class="p">.</span>
</pre></div>
</div>
<ul class="simple">
<li><p>外部和子类访问均报错</p></li>
</ul>
</section>
<section id="protected">
<h3><a class="toc-backref" href="#id71"><span class="section-number">11.8.7. </span>protected（类内部和子类可以访问）</a><a class="headerlink" href="#protected" title="Permalink to this headline">¶</a></h3>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 定义一个父类（超类）</span>
  <span class="kd">class</span> <span class="nx">Person</span> <span class="p">{</span>
    <span class="c1">// 定义属性</span>
    <span class="k">protected</span> <span class="nx">name</span>: <span class="kt">string</span>

    <span class="c1">// 构造方法，实例化对象的时候，直接对属性的值进行初始化</span>
    <span class="k">protected</span> <span class="kr">constructor</span><span class="p">(</span><span class="nx">name</span>: <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// 更新对象中的属性数据</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span>
    <span class="p">}</span>

    <span class="c1">// 实例方法</span>
    <span class="k">protected</span> <span class="nx">run</span><span class="p">(</span><span class="nx">num</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mf">0</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span> <span class="p">{</span>
      <span class="k">return</span> <span class="s1">&#39;大家好，我叫&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;我跑了&#39;</span> <span class="o">+</span> <span class="nx">num</span> <span class="o">+</span> <span class="s1">&#39;米&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// 定义第一个子类（派生类）</span>
  <span class="kd">class</span> <span class="nx">Student</span> <span class="k">extends</span> <span class="nx">Person</span> <span class="p">{</span>
    <span class="c1">// 调用父类中的构造函数</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">name</span>: <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">super</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// 重写父类中的方法</span>
    <span class="nx">run</span><span class="p">(</span><span class="nx">num</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mf">5</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span> <span class="p">{</span>
      <span class="k">return</span> <span class="s1">&#39;大家好，我叫&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;我跑了&#39;</span> <span class="o">+</span> <span class="nx">num</span> <span class="o">+</span> <span class="s1">&#39;米&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// 创建父类的实例</span>
  <span class="kd">const</span> <span class="nx">person1</span>: <span class="kt">Person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s1">&#39;张三&#39;</span><span class="p">)</span>
  <span class="c1">// 类的外部访问类中的成员属性</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person1</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>
  <span class="c1">// 类的外部访问类中的成员方法</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person1</span><span class="p">.</span><span class="nx">run</span><span class="p">())</span>
  <span class="c1">// 创建子类的对象</span>
  <span class="kd">const</span> <span class="nx">student</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Student</span><span class="p">(</span><span class="s1">&#39;李四&#39;</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">student</span><span class="p">.</span><span class="nx">run</span><span class="p">())</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// one.ts(32,27): error TS2674: Constructor of class &#39;Person&#39; is protected and only accessible within the class declaration.</span>
<span class="c1">// one.ts(34,23): error TS2445: Property &#39;name&#39; is protected and only accessible within class &#39;Person&#39; and its subclasses.</span>
<span class="c1">// one.ts(36,23): error TS2445: Property &#39;run&#39; is protected and only accessible within class &#39;Person&#39; and its subclasses.</span>
</pre></div>
</div>
<ul class="simple">
<li><p>子类使用正常，外部使用报错</p></li>
</ul>
</section>
<section id="readonly">
<h3><a class="toc-backref" href="#id72"><span class="section-number">11.8.8. </span>readonly</a><a class="headerlink" href="#readonly" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>readonly关键字将属性设置为只读的。
只读属性必须在声明时或构造函数里被初始化。外部不能修改属性值，内部普通方法也不能修改，只能在创建对象初始化时，指定属性的值</p>
</div></blockquote>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 定义一个父类（超类）</span>
  <span class="kd">class</span> <span class="nx">Person</span> <span class="p">{</span>
    <span class="c1">// 定义属性</span>
    <span class="k">readonly</span> <span class="nx">name</span>: <span class="kt">string</span>
    <span class="c1">// 构造方法，实例化对象的时候，直接对属性的值进行初始化</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">name</span>: <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// 更新对象中的属性数据</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span>
    <span class="p">}</span>

    <span class="c1">// 实例方法</span>
    <span class="nx">run</span><span class="p">()</span><span class="o">:</span> <span class="kt">string</span> <span class="p">{</span>
      <span class="c1">// 类内部方法修改成员属性</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">&#39;abc&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// 创建父类的实例</span>
  <span class="kd">const</span> <span class="nx">person1</span>: <span class="kt">Person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s1">&#39;张三&#39;</span><span class="p">)</span>
  <span class="c1">// 类的外部访问类中的成员属性</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person1</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>
  <span class="c1">// 修改实例的属性</span>
  <span class="nx">person1</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">&#39;李四&#39;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person1</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// one.ts(14,19): error TS2540: Cannot assign to &#39;name&#39; because it is a read-only property.</span>
<span class="c1">// one.ts(22,11): error TS2540: Cannot assign to &#39;name&#39; because it is a read-only property.</span>
</pre></div>
</div>
</section>
<section id="id23">
<h3><a class="toc-backref" href="#id73"><span class="section-number">11.8.9. </span>存取器</a><a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>通过 <code class="docutils literal notranslate"><span class="pre">getters/setters</span></code>
来截取对对象成员的访问。用于控制对对象成员的访问。</p>
</div></blockquote>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 外部可以传入姓氏和名字，使用set和get控制姓名数据，外部可以访问和修改</span>
  <span class="kd">class</span> <span class="nx">Person</span><span class="p">{</span>
    <span class="nx">firstName</span>:<span class="kt">string</span> <span class="c1">// 姓</span>
    <span class="nx">lastName</span>:<span class="kt">string</span> <span class="c1">// 名</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">firstName</span>:<span class="kt">string</span><span class="p">,</span><span class="nx">lastName</span>:<span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">=</span> <span class="nx">firstName</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">lastName</span> <span class="o">=</span> <span class="nx">lastName</span>
    <span class="p">}</span>
    <span class="c1">// 读取器——负责数据读取</span>
    <span class="nx">get</span> <span class="nx">fullName</span><span class="p">(){</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lastName</span>
    <span class="p">}</span>
    <span class="c1">// 设置器——负责数据的修改</span>
    <span class="nx">set</span> <span class="nx">fullName</span><span class="p">(</span><span class="nx">val</span><span class="p">){</span>
      <span class="kd">let</span> <span class="nx">names</span> <span class="o">=</span> <span class="nx">val</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">=</span> <span class="nx">names</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">lastName</span> <span class="o">=</span> <span class="nx">names</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// 实例化对象</span>
  <span class="kd">const</span> <span class="nx">person</span>:<span class="kt">Person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s1">&#39;东方&#39;</span><span class="p">,</span><span class="s1">&#39;不败&#39;</span><span class="p">)</span>
  <span class="c1">// 获取对象的成员属性</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person</span><span class="p">.</span><span class="nx">fullName</span><span class="p">)</span>
  <span class="c1">// 设置属性的数据</span>
  <span class="nx">person</span><span class="p">.</span><span class="nx">fullName</span> <span class="o">=</span> <span class="s1">&#39;诸葛-孔明&#39;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person</span><span class="p">.</span><span class="nx">fullName</span><span class="p">)</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 东方-不败</span>
<span class="c1">// 诸葛-孔明</span>
</pre></div>
</div>
</section>
<section id="id24">
<h3><a class="toc-backref" href="#id74"><span class="section-number">11.8.10. </span>静态属性与方法</a><a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>通过static修饰的属性和方法，在使用时直接通过类名.的方式调用</p>
</div></blockquote>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">静态属性, 是类对象的属性</span>
<span class="cm">非静态属性, 是类的实例对象的属性</span>
<span class="cm">*/</span>
<span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 定义一个类</span>
  <span class="kd">class</span> <span class="nx">Person</span><span class="p">{</span>
    <span class="c1">// 定义一个静态属性。类中默认有一个内置的name静态属性，不能冲突</span>
    <span class="k">static</span> <span class="nx">names</span>:<span class="kt">string</span> <span class="o">=</span> <span class="s1">&#39;张三&#39;</span>
    <span class="c1">// 定义一个静态方法</span>
    <span class="k">static</span> <span class="nx">sayHi</span><span class="p">(){</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Hi&#39;</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// 调用类的静态属性</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Person</span><span class="p">.</span><span class="nx">names</span><span class="p">)</span>
  <span class="c1">// 设置类的静态属性值</span>
  <span class="nx">Person</span><span class="p">.</span><span class="nx">names</span> <span class="o">=</span> <span class="s1">&#39;李四&#39;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Person</span><span class="p">.</span><span class="nx">names</span><span class="p">)</span>
  <span class="c1">// 调用类的静态方法</span>
  <span class="nx">Person</span><span class="p">.</span><span class="nx">sayHi</span><span class="p">()</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 张三</span>
<span class="c1">// 李四</span>
<span class="c1">// Hi</span>
</pre></div>
</div>
</section>
<section id="id25">
<h3><a class="toc-backref" href="#id75"><span class="section-number">11.8.11. </span>抽象类</a><a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>抽象类做为其它派生类的基类使用。
它们不能被实例化。不同于接口，抽象类可以包含成员的实现细节。
<code class="docutils literal notranslate"><span class="pre">abstract</span></code> 关键字是用于定义抽象类和在抽象类内部定义抽象方法</p>
</div></blockquote>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">抽象类</span>
<span class="cm">  不能创建实例对象, 只有实现类才能创建实例</span>
<span class="cm">  可以包含未实现的抽象方法</span>
<span class="cm">*/</span>
<span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 定义一个抽象父类</span>
  <span class="k">abstract</span> <span class="kd">class</span> <span class="nx">Person</span><span class="p">{</span>
    <span class="c1">// 定义一个抽象方法(抽象类中只定义，不能有具体的实现)</span>
    <span class="k">abstract</span> <span class="nx">run</span><span class="p">()</span>
    <span class="c1">// 定义一个实例方法</span>
    <span class="nx">sayHi</span><span class="p">(){</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Hi&#39;</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// 定义一个子类（派生类）</span>
  <span class="kd">class</span> <span class="nx">Student</span> <span class="k">extends</span> <span class="nx">Person</span><span class="p">{</span>
    <span class="c1">// 重新实现抽象类中的方法，此时这个方法就是当前Person类的实例方法</span>
    <span class="nx">run</span><span class="p">(){</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;整齐的跑&#39;</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// 实例化student对象</span>
  <span class="kd">const</span> <span class="nx">student</span>:<span class="kt">Student</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Student</span><span class="p">()</span>
  <span class="nx">student</span><span class="p">.</span><span class="nx">sayHi</span><span class="p">()</span>
  <span class="c1">// 调用抽象类中的实例方法</span>
  <span class="nx">student</span><span class="p">.</span><span class="nx">run</span><span class="p">()</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// Hi</span>
<span class="c1">// 整齐的跑</span>
</pre></div>
</div>
</section>
</section>
<section id="id26">
<h2><a class="toc-backref" href="#id76"><span class="section-number">11.9. </span>9. 函数</a><a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>函数是 JavaScript
应用程序的基础，将程序中重复的代码通过函数封装起来，提高代码复用。</p>
</div></blockquote>
<section id="id27">
<h3><a class="toc-backref" href="#id77"><span class="section-number">11.9.1. </span>基本示例</a><a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>和 JavaScript 一样，TypeScript 函数可以创建有名字的函数和匿名函数。</p>
<p>TypeScript支持原生的JavaScript函数格式</p>
</div></blockquote>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 命名函数(函数声明)</span>
  <span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span>
  <span class="p">}</span>

  <span class="c1">// 匿名函数(函数表达式)</span>
  <span class="kd">let</span> <span class="nx">myAdd</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">// 调用命名函数</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">add</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">))</span>
  <span class="c1">// 调用匿名函数</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myAdd</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">))</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 3</span>
<span class="c1">// 5</span>
</pre></div>
</div>
</section>
<section id="id28">
<span id="id29"></span><h3><a class="toc-backref" href="#id78"><span class="section-number">11.9.2. </span>函数类型</a><a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>TypeScript是一门强类型语言，推荐在使用函数时，给函数的参数和返回值指定类型</p>
</div></blockquote>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 命名函数(函数声明)</span>
  <span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">x</span>:<span class="kt">string</span><span class="p">,</span> <span class="nx">y</span>:<span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="kt">string</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span>
  <span class="p">}</span>

  <span class="c1">// 匿名函数(函数表达式)</span>
  <span class="kd">let</span> <span class="nx">myAdd</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">x</span>:<span class="kt">number</span><span class="p">,</span> <span class="nx">y</span>:<span class="kt">number</span><span class="p">)</span><span class="o">:</span><span class="kt">number</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">// 调用命名函数</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">))</span>
  <span class="c1">// 调用匿名函数</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myAdd</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">))</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 12</span>
<span class="c1">// 5</span>
</pre></div>
</div>
</section>
<section id="id30">
<h3><a class="toc-backref" href="#id79"><span class="section-number">11.9.3. </span>完整写法</a><a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// myAdd——变量名</span>
  <span class="c1">// (x: number, y: number) =&gt; number——当前这个myAdd函数的类型</span>
  <span class="c1">// function (x: number, y: number): number { return x + y }——符合上面这个函数类型的值</span>
  <span class="kd">let</span> <span class="nx">myAdd</span><span class="o">:</span> <span class="p">(</span><span class="nx">x</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">y</span>: <span class="kt">number</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="kt">number</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">x</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">y</span>: <span class="kt">number</span><span class="p">)</span><span class="o">:</span> <span class="kt">number</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span>
  <span class="p">}</span>
  <span class="c1">// 调用函数</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myAdd</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">))</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 5</span>
</pre></div>
</div>
</section>
<section id="id31">
<h3><a class="toc-backref" href="#id80"><span class="section-number">11.9.4. </span>可选参数和默认参数</a><a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>默认参数：函数在声明的时候，内部的参数用=指定一个默认值，表示该参数是默认参数</p>
<p>可选参数：函数在声明的时候，内部的参数用？修饰，表示该参数可有可无</p>
</div></blockquote>
<p>示例：定义一个函数，传入姓氏和名字，得到姓名</p>
<ul class="simple">
<li><p>需求：如果不传入任何内容，返回默认的姓氏（姓氏默认参数）</p></li>
<li><p>需求：如果只传入姓氏，就返回姓氏（名字可选参数）</p></li>
<li><p>需求：如果传入姓氏和名字，就返回姓名</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">fullName</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">firstName</span>: <span class="kt">string</span> <span class="o">=</span> <span class="s1">&#39;诸葛&#39;</span><span class="p">,</span> <span class="nx">lastName?</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="c1">// 判断是否传入了名字</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">lastName</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">firstName</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="nx">lastName</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">firstName</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// 什么也不传入</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">fullName</span><span class="p">())</span>
  <span class="c1">// 传入姓氏</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">fullName</span><span class="p">(</span><span class="s1">&#39;欧阳&#39;</span><span class="p">))</span>
  <span class="c1">// 传入姓氏和名字</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">fullName</span><span class="p">(</span><span class="s1">&#39;欧阳&#39;</span><span class="p">,</span> <span class="s1">&#39;峰&#39;</span><span class="p">))</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 诸葛</span>
<span class="c1">// 欧阳</span>
<span class="c1">// 欧阳-峰</span>
</pre></div>
</div>
</section>
<section id="id32">
<h3><a class="toc-backref" href="#id81"><span class="section-number">11.9.5. </span>剩余参数</a><a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>有时，你想同时操作多个参数，或者你并不知道会有多少参数传递进来。 在
TypeScript 里，你可以把所有参数收集到一个变量里：</p>
<p>剩余参数会被当做个数不限的可选参数。 可以一个都没有，同样也可以
有任意个。</p>
</div></blockquote>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">showMsg</span><span class="p">(</span><span class="nx">str1</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">str2</span>: <span class="kt">string</span><span class="p">,</span> <span class="p">...</span><span class="nx">other</span>: <span class="kt">string</span><span class="p">[])</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">str1</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">str2</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">other</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="nx">showMsg</span><span class="p">(</span><span class="s1">&#39;欧&#39;</span><span class="p">,</span> <span class="s1">&#39;杨&#39;</span><span class="p">,</span> <span class="s1">&#39;峰&#39;</span><span class="p">,</span> <span class="s1">&#39;是&#39;</span><span class="p">,</span> <span class="s1">&#39;好&#39;</span><span class="p">,</span> <span class="s1">&#39;人&#39;</span><span class="p">,</span> <span class="s1">&#39;吗&#39;</span><span class="p">)</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 欧</span>
<span class="c1">// 杨</span>
<span class="c1">// (5) [&quot;峰&quot;, &quot;是&quot;, &quot;好&quot;, &quot;人&quot;, &quot;吗&quot;]</span>
</pre></div>
</div>
</section>
<section id="id33">
<h3><a class="toc-backref" href="#id82"><span class="section-number">11.9.6. </span>函数重载</a><a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>函数名字相同，但函数的参数和个数不同</p>
</div></blockquote>
<p>需求：定义一个函数，当传入两个string时，进行拼接。当传入两个number时，进行相加。</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 函数重载声明</span>
  <span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">x</span>:<span class="kt">string</span><span class="p">,</span><span class="nx">y</span>:<span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="kt">string</span>
  <span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">x</span>:<span class="kt">number</span><span class="p">,</span><span class="nx">y</span>:<span class="kt">number</span><span class="p">)</span><span class="o">:</span><span class="kt">number</span>
  <span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">x</span>: <span class="kt">string</span><span class="o">|</span><span class="kt">number</span><span class="p">,</span> <span class="nx">y</span>: <span class="kt">string</span><span class="o">|</span><span class="kt">number</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span><span class="o">|</span><span class="kt">number</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">x</span><span class="o">===</span><span class="s1">&#39;string&#39;</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">y</span><span class="o">===</span><span class="s1">&#39;string&#39;</span><span class="p">){</span>
      <span class="k">return</span> <span class="nx">x</span><span class="o">+</span><span class="nx">y</span> <span class="c1">//字符串拼接</span>
    <span class="p">}</span><span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">x</span><span class="o">===</span><span class="s1">&#39;number&#39;</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">y</span><span class="o">===</span><span class="s1">&#39;number&#39;</span><span class="p">){</span>
      <span class="k">return</span> <span class="nx">x</span><span class="o">+</span><span class="nx">y</span> <span class="c1">//数字相加</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">))</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">add</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">))</span>
  <span class="c1">// 如果传入数据非法，ts编译直接报错</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="mf">2</span><span class="p">))</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 12</span>
<span class="c1">// 3</span>
<span class="c1">//   Overload 1 of 2, &#39;(x: string, y: string): string&#39;, gave the following error.</span>
<span class="c1">//     Argument of type &#39;number&#39; is not assignable to parameter of type &#39;string&#39;.</span>
<span class="c1">//   Overload 2 of 2, &#39;(x: number, y: number): number&#39;, gave the following error.</span>
<span class="c1">//     Argument of type &#39;string&#39; is not assignable to parameter of type &#39;number&#39;.</span>
</pre></div>
</div>
</section>
</section>
<section id="id34">
<h2><a class="toc-backref" href="#id83"><span class="section-number">11.10. </span>10.泛型</a><a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>在定义函数、接口或类的时候，不预先指定具体的类型，而在使用的时候再指定具体类型。</p>
</div></blockquote>
<section id="id35">
<h3><a class="toc-backref" href="#id84"><span class="section-number">11.10.1. </span>函数泛型</a><a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h3>
<p>需求：定义一个函数，接收两个参数，第一个是数据，第二个是数量，生成一个数据*数量的数组</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 根据传入的数据和数量，生成一个数据*数量的数组</span>
  <span class="kd">function</span> <span class="nx">getArr</span><span class="p">(</span><span class="nx">value</span>:<span class="kt">any</span><span class="p">,</span><span class="nx">count</span>:<span class="kt">number</span><span class="p">)</span><span class="o">:</span><span class="nx">any</span><span class="p">[]{</span>
    <span class="kd">const</span> <span class="nx">arr</span>:<span class="kt">any</span><span class="p">[]</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">count</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span>
      <span class="nx">arr</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">arr</span>
  <span class="p">}</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getArr</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="mf">3</span><span class="p">))</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getArr</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="mf">3</span><span class="p">))</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// (3) [1, 1, 1]</span>
<span class="c1">// (3) [&quot;1&quot;, &quot;1&quot;, &quot;1&quot;]</span>
</pre></div>
</div>
</section>
<section id="id36">
<h3><a class="toc-backref" href="#id85"><span class="section-number">11.10.2. </span>多个泛型参数的函数</a><a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h3>
<p>一个函数中可以有多个泛型参数</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 使用k和v表示不同的值类型，所有引用了K的变量类型一致，V也是</span>
  <span class="kd">function</span> <span class="nx">swap</span><span class="o">&lt;</span><span class="nx">K</span><span class="p">,</span> <span class="nx">V</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">a</span>: <span class="kt">K</span><span class="p">,</span> <span class="nx">b</span>: <span class="kt">V</span><span class="p">)</span><span class="o">:</span> <span class="p">[</span><span class="nx">K</span><span class="p">,</span> <span class="nx">V</span><span class="p">]</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">]</span>
  <span class="p">}</span>
    <span class="c1">// 调用的时候指定参数的类型</span>
  <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">swap</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">number</span><span class="o">&gt;</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="mf">123</span><span class="p">)</span>
  <span class="c1">// ts编译器识别出变量的类型，并提供相关的方法提示</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">length</span><span class="p">,</span> <span class="nx">result</span><span class="p">[</span><span class="mf">1</span><span class="p">].</span><span class="nx">toFixed</span><span class="p">())</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 3 &quot;123&quot;</span>
</pre></div>
</div>
</section>
<section id="id37">
<h3><a class="toc-backref" href="#id86"><span class="section-number">11.10.3. </span>泛型接口</a><a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>在定义接口时, 为接口中的属性或方法定义泛型类型</p>
<p>在使用接口时, 再指定具体的泛型类型</p>
</div></blockquote>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 在定义接口时, 为接口中的属性或方法定义泛型类型</span>
  <span class="kd">interface</span> <span class="nx">IbaseCRUD</span> <span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="nx">data</span>: <span class="kt">T</span><span class="p">[]</span>
    <span class="nx">add</span><span class="o">:</span> <span class="p">(</span><span class="nx">t</span>: <span class="kt">T</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span>
  <span class="p">}</span>
  <span class="c1">// 在使用接口时, 再指定具体的泛型类型</span>
  <span class="c1">// 定义一个类，并指定成员属性的值类型</span>
  <span class="kd">class</span> <span class="nx">User</span> <span class="p">{</span>
    <span class="nx">id?</span>: <span class="kt">number</span><span class="p">;</span> <span class="c1">//id主键自增</span>
    <span class="nx">name</span>: <span class="kt">string</span><span class="p">;</span> <span class="c1">//姓名</span>
    <span class="nx">age</span>: <span class="kt">number</span><span class="p">;</span> <span class="c1">//年龄</span>
    <span class="c1">// 构造方法，更新属性数据</span>
    <span class="kr">constructor</span> <span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// 定义一个类，这个类的类型就是上面定义的接口，传入上面定义的类</span>
  <span class="kd">class</span> <span class="nx">UserCRUD</span> <span class="k">implements</span> <span class="nx">IbaseCRUD</span> <span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="nx">data</span>: <span class="kt">User</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="nx">add</span><span class="p">(</span><span class="nx">user</span>: <span class="kt">User</span><span class="p">)</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
      <span class="nx">user</span> <span class="o">=</span> <span class="p">{...</span><span class="nx">user</span><span class="p">,</span> <span class="nx">id</span>: <span class="kt">Date.now</span><span class="p">()}</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;保存user&#39;</span><span class="p">,</span> <span class="nx">user</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// 实例化对象</span>
  <span class="kd">const</span> <span class="nx">userCRUD</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">UserCRUD</span><span class="p">()</span>
  <span class="c1">// 调用add方法添加用户到user列表</span>
  <span class="nx">userCRUD</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">User</span><span class="p">(</span><span class="s1">&#39;tom&#39;</span><span class="p">,</span> <span class="mf">12</span><span class="p">))</span>
  <span class="nx">userCRUD</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">User</span><span class="p">(</span><span class="s1">&#39;tom2&#39;</span><span class="p">,</span> <span class="mf">13</span><span class="p">))</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">userCRUD</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 保存user 1614172477494</span>
<span class="c1">// 保存user 1614172477495</span>
<span class="c1">//</span>
<span class="c1">// (2) [{…}, {…}]</span>
<span class="c1">// 0: {name: &quot;tom&quot;, age: 12, id: 1614172477494}</span>
<span class="c1">// 1: {name: &quot;tom2&quot;, age: 13, id: 1614172477495}</span>
<span class="c1">// length: 2</span>
</pre></div>
</div>
</section>
<section id="id38">
<h3><a class="toc-backref" href="#id87"><span class="section-number">11.10.4. </span>泛型类</a><a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>在定义类时, 为类中的属性或方法定义泛型类型 在创建类的实例时,
再指定特定的泛型类型</p>
</div></blockquote>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 定义一个类, 类中的属性和方法定义泛型类型（T表示同种类型）</span>
  <span class="kd">class</span> <span class="nx">GenericNumber</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="nx">zeroValue</span>: <span class="kt">T</span>
    <span class="nx">add</span><span class="o">:</span> <span class="p">(</span><span class="nx">x</span>: <span class="kt">T</span><span class="p">,</span> <span class="nx">y</span>: <span class="kt">T</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">T</span>
  <span class="p">}</span>
  <span class="c1">// 实例化对象，指定类型为number</span>
  <span class="kd">let</span> <span class="nx">myGenericNumber</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GenericNumber</span><span class="o">&lt;</span><span class="kt">number</span><span class="o">&gt;</span><span class="p">()</span>
  <span class="nx">myGenericNumber</span><span class="p">.</span><span class="nx">zeroValue</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">myGenericNumber</span><span class="p">.</span><span class="nx">add</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span>
  <span class="p">}</span>
  <span class="c1">// 调用对象的方法，传入number参数</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myGenericNumber</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">myGenericNumber</span><span class="p">.</span><span class="nx">zeroValue</span><span class="p">,</span> <span class="mf">12</span><span class="p">))</span>
  <span class="c1">// 实例化对象，指定类型为string</span>
  <span class="kd">let</span> <span class="nx">myGenericString</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GenericNumber</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span><span class="p">()</span>
  <span class="nx">myGenericString</span><span class="p">.</span><span class="nx">zeroValue</span> <span class="o">=</span> <span class="s1">&#39;abc&#39;</span>
  <span class="nx">myGenericString</span><span class="p">.</span><span class="nx">add</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span>
  <span class="p">}</span>
  <span class="c1">// 调用对象的方法，传传入string参数</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myGenericString</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">myGenericString</span><span class="p">.</span><span class="nx">zeroValue</span><span class="p">,</span> <span class="s1">&#39;-def&#39;</span><span class="p">))</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 12</span>
<span class="c1">// abc-def</span>
</pre></div>
</div>
</section>
<section id="id39">
<h3><a class="toc-backref" href="#id88"><span class="section-number">11.10.5. </span>泛型约束</a><a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h3>
<p><strong>没有泛型约束</strong></p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">fn</span> <span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">x</span>: <span class="kt">T</span><span class="p">)</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
    <span class="c1">// 对一个泛型参数取 length 属性, 会报错, 因为这个泛型根本就不知道它有这个属性</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="nx">error</span> <span class="nx">TS2339</span>: <span class="kt">Property</span> <span class="s1">&#39;length&#39;</span> <span class="nx">does</span> <span class="nx">not</span> <span class="nx">exist</span> <span class="nx">on</span> <span class="kd">type</span> <span class="s1">&#39;T&#39;</span><span class="p">.</span>
</pre></div>
</div>
<p><strong>使用泛型约束</strong></p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="c1">// 定义一个泛型约束</span>
  <span class="kd">interface</span> <span class="nx">Lengthwise</span> <span class="p">{</span>
    <span class="nx">length</span>: <span class="kt">number</span><span class="p">;</span>
  <span class="p">}</span>

<span class="c1">// 指定泛型约束</span>
  <span class="kd">function</span> <span class="nx">fn2</span><span class="o">&lt;</span><span class="nx">T</span> <span class="k">extends</span> <span class="nx">Lengthwise</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">x</span>: <span class="kt">T</span><span class="p">)</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="nx">fn2</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span>
<span class="c1">// 当传入值不符合约束类型时，会报错：</span>
  <span class="nx">fn2</span><span class="p">(</span><span class="mf">123</span><span class="p">)</span> <span class="c1">// error  number没有length属性</span>
<span class="p">})()</span>
<span class="c1">// 输出结果</span>
<span class="c1">// 3</span>
<span class="c1">// error TS2345: Argument of type &#39;number&#39; is not assignable to parameter of type &#39;Lengthwise&#39;.</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="10.Vue3%E6%96%B0%E7%89%B9%E6%80%A7%E8%AF%A6%E8%AE%B2.html" class="btn btn-neutral float-left" title="10. Vue3新特性详讲" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="12.Vite.html" class="btn btn-neutral float-right" title="12. Vite" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, huxiaojian.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>