<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>31.3. 熙熙运维平台开发 &mdash; 运维开发修炼之路</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Python测试开发入门与实践" href="../../Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E4%B8%8E%E5%AE%9E%E8%B7%B5/index.html" />
    <link rel="prev" title="31.2. vue3+ts后台系统" href="2.vue3%2Bts%E5%90%8E%E5%8F%B0%E7%B3%BB%E7%BB%9F.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> 小健_Python_go_Devops
            <img src="../../_static/python_go.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Go/index.html">Go语言学习</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Go_vs_Python/index.html">Go vs Python</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Python全栈系列</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../01.Python%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/index.html">1. Python数据类型</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02.Python%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/index.html">2. Python流程控制语句</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03.Python%E5%87%BD%E6%95%B0/index.html">3. Python函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04.Python%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/index.html">4. Python内建函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../05.Python%E6%8E%A8%E5%AF%BC%E5%BC%8F%E5%AD%A6%E4%B9%A0/index.html">5. Python推导式学习</a></li>
<li class="toctree-l2"><a class="reference internal" href="../06.Python%E8%BF%AD%E4%BB%A3%E5%99%A8_%E7%94%9F%E6%88%90%E5%99%A8_%E8%A3%85%E9%A5%B0%E5%99%A8/index.html">6. Python生成器、迭代器、装饰器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../07.Python%E9%9D%A2%E5%AF%B9%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1_OOP/index.html">7. Python面对对象设计_OOP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../08.Python%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/index.html">8. Python异常处理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../09.Python%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/index.html">9. Python文件操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10.Python%E4%B8%AD%E7%9A%84%E5%8C%85%E5%92%8C%E6%A8%A1%E5%9D%97/index.html">10. Python中包和模块</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11.Python%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/index.html">11. Python正则表达式</a></li>
<li class="toctree-l2"><a class="reference internal" href="../12.Python%E6%A0%87%E5%87%86%E5%BA%93/index.html">12. Python 标准库学习</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13.Python%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93/index.html">13. Python对数据库的操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14.Python%E4%B8%89%E6%96%B9%E5%BA%93/index.html">14. Python 三方库学习</a></li>
<li class="toctree-l2"><a class="reference internal" href="../15.Python%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/index.html">15. Python 网络编程</a></li>
<li class="toctree-l2"><a class="reference internal" href="../16.Python%E7%BA%BF%E7%A8%8B%E5%92%8C%E8%BF%9B%E7%A8%8B/index.html">16. Python 进程和线程</a></li>
<li class="toctree-l2"><a class="reference internal" href="../17.Python%E8%AF%AD%E8%A8%80%E7%9A%84%E6%89%A9%E5%B1%95%E4%B8%8E%E5%B5%8C%E5%85%A5/index.html">17. Python与C语言扩展</a></li>
<li class="toctree-l2"><a class="reference internal" href="../18.%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E5%91%98%E7%9A%84Python%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B%E6%8C%87%E5%8D%97-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/index.html">18. 系统管理员的Python脚本编程指南-读书笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../20.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/index.html">19. Python自动化运维最佳实践</a></li>
<li class="toctree-l2"><a class="reference internal" href="../21.Python%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0/index.html">20. Python进阶学习</a></li>
<li class="toctree-l2"><a class="reference internal" href="../22.Python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB/index.html">21. Python网络爬虫</a></li>
<li class="toctree-l2"><a class="reference internal" href="../23.%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/index.html">22. 前端基础知识</a></li>
<li class="toctree-l2"><a class="reference internal" href="../24.Python%E6%A1%86%E6%9E%B6/index.html">23. Python框架</a></li>
<li class="toctree-l2"><a class="reference internal" href="../25.Python%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/index.html">24. Python开发环境部署</a></li>
<li class="toctree-l2"><a class="reference internal" href="../26.%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E6%9C%AC%E7%AE%97%E6%B3%95%E4%B9%A6/index.html">25. 我的第一本算法书</a></li>
<li class="toctree-l2"><a class="reference internal" href="../27.Python3%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/index.html">26. Python3网络爬虫开发实战</a></li>
<li class="toctree-l2"><a class="reference internal" href="../28.Python%E8%AE%A9%E7%B9%81%E7%90%90%E7%9A%84%E5%B7%A5%E4%BD%9C%E8%87%AA%E5%8A%A8%E5%8C%96/index.html">27. Python让繁琐的工作自动化</a></li>
<li class="toctree-l2"><a class="reference internal" href="../29.%E7%96%AF%E7%8B%82%E7%9A%84Python%E8%AE%B2%E4%B9%89/index.html">28. 疯狂的Python讲义</a></li>
<li class="toctree-l2"><a class="reference internal" href="../30.Django_Vue/index.html">29. Django_Vue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../31.%E7%BC%96%E5%86%99Python%E7%9A%8490%E4%B8%AA%E6%9C%89%E6%95%88%E6%96%B9%E6%B3%95/index.html">30. 编写Python的90个有效方法</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">31. Vue3.0管理系统</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="1.vue3.0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F.html">31.1. vue3.0管理系统</a></li>
<li class="toctree-l3"><a class="reference internal" href="2.vue3%2Bts%E5%90%8E%E5%8F%B0%E7%B3%BB%E7%BB%9F.html">31.2. vue3+ts后台系统</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">31.3. 熙熙运维平台开发</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">31.3.1. 1.技术栈清单</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vite">31.3.2. 2.vite项目初始搭建</a></li>
<li class="toctree-l4"><a class="reference internal" href="#svgicon">31.3.3. 3.SvgIcon组件开发</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vue3-0-element-api">31.3.4. 4.vue3.0全局属性挂载(element api)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">31.3.5. 参考文献</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E4%B8%8E%E5%AE%9E%E8%B7%B5/index.html">Python测试开发入门与实践</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vue/index.html">Vue.js企业开发实战</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vue_Node.js/index.html">Vue.js+Node.js开发实战</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">小健_Python_go_Devops</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Python全栈系列</a> &raquo;</li>
          <li><a href="index.html"><span class="section-number">31. </span>Vue3.0管理系统</a> &raquo;</li>
      <li><span class="section-number">31.3. </span>熙熙运维平台开发</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/Python/32.Vue3.0管理系统/3.熙熙运维平台开发.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#id1" id="id9">熙熙运维平台开发</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id10">1.技术栈清单</a></p></li>
<li><p><a class="reference internal" href="#vite" id="id11">2.vite项目初始搭建</a></p>
<ul>
<li><p><a class="reference internal" href="#vite-config-js" id="id12">2.1 vite.config.js配置文件</a></p></li>
<li><p><a class="reference internal" href="#vuerouter" id="id13">2.2 vueRouter</a></p></li>
<li><p><a class="reference internal" href="#pinia" id="id14">2.3 Pinia状态管理</a></p></li>
<li><p><a class="reference internal" href="#axios" id="id15">2.4 axios</a></p></li>
<li><p><a class="reference internal" href="#eslint-plugin-vue" id="id16">2.5 eslint-plugin-vue 文件检查</a></p></li>
<li><p><a class="reference internal" href="#element-plus" id="id17">2.6 element-plus安装配置</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id18">2.7 路径别名配置</a></p></li>
<li><p><a class="reference internal" href="#typescript" id="id19">2.8 TypeScript 编译配置</a></p></li>
<li><p><a class="reference internal" href="#sass" id="id20">2.9 Sass 全局样式</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#svgicon" id="id21">3.SvgIcon组件开发</a></p>
<ul>
<li><p><a class="reference internal" href="#svg-sprite" id="id22">3.1 什么是Svg Sprite</a></p></li>
<li><p><a class="reference internal" href="#svg" id="id23">3.2 准备svg文件</a></p></li>
<li><p><a class="reference internal" href="#vite-plugin-svg-icons" id="id24">3.3 配置vite-plugin-svg-icons</a></p></li>
<li><p><a class="reference internal" href="#svg-icon" id="id25">3.4 开发svg icon组件</a></p></li>
<li><p><a class="reference internal" href="#main-tsicon" id="id26">3.5 main.ts注册icon组件</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id27">3.6 Svg优化</a></p></li>
<li><p><a class="reference internal" href="#tsconfig-json" id="id28">3.7 tsconfig.json配置</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#vue3-0-element-api" id="id29">4.vue3.0全局属性挂载(element api)</a></p>
<ul>
<li><p><a class="reference internal" href="#element-plusapiapp" id="id30">4.1 element-plus组件api挂载到app</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id31">4.2 类型声明问题</a></p></li>
<li><p><a class="reference internal" href="#id7" id="id32">4.3 组件中使用</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id8" id="id33">参考文献</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="id1">
<h1><a class="toc-backref" href="#id9"><span class="section-number">31.3. </span>熙熙运维平台开发</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<section id="id2">
<h2><a class="toc-backref" href="#id10"><span class="section-number">31.3.1. </span>1.技术栈清单</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 39%" />
<col style="width: 39%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>技术栈</strong></p></th>
<th class="head"><p><strong>描述</strong></p></th>
<th class="head"><p><strong>官网</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Vue3</p></td>
<td><p>渐进式 JavaScript 框架</p></td>
<td><p><a class="reference external" href="https://v3.cn.vuejs.org/">https://v3.cn.vuejs.org/</a></p></td>
</tr>
<tr class="row-odd"><td><p>TypeScript</p></td>
<td><p>微软新推出的一种语言，是
JavaScript 的超集</p></td>
<td><p><a class="reference external" href="https://www.tslang.cn/">https://www.tslang.cn/</a></p></td>
</tr>
<tr class="row-even"><td><p>Vite2</p></td>
<td><p>前端开发与构建工具</p></td>
<td><p><a class="reference external" href="https://cn.vitejs.dev/">https://cn.vitejs.dev/</a></p></td>
</tr>
<tr class="row-odd"><td><p>Element Plus</p></td>
<td><p>基于 Vue
3，面
向设计师和开发者的组件库</p></td>
<td><p><a class="reference external" href="https://elem">https://elem</a>
ent-plus.gitee.io/zh-CN/</p></td>
</tr>
<tr class="row-even"><td><p>Pinia</p></td>
<td><p>新一代状态管理工具</p></td>
<td><p><a class="reference external" href="https://pinia.vuejs.org/">https://pinia.vuejs.org/</a></p></td>
</tr>
<tr class="row-odd"><td><p>Vue Router</p></td>
<td><p>Vue.js 的官方路由</p></td>
<td><p>http
s://router.vuejs.org/zh/</p></td>
</tr>
<tr class="row-even"><td><p>wangEditor</p></td>
<td><p>Typescript 开发的 Web
富文本编辑器</p></td>
<td><p>htt
ps://www.wangeditor.com/</p></td>
</tr>
<tr class="row-odd"><td><p>Echarts</p></td>
<td><p>一个基于 JavaScript
的开源可视化图表库</p></td>
<td><p>https:
//echarts.apache.org/zh/</p></td>
</tr>
</tbody>
</table>
</section>
<section id="vite">
<h2><a class="toc-backref" href="#id11"><span class="section-number">31.3.2. </span>2.vite项目初始搭建</a><a class="headerlink" href="#vite" title="Permalink to this headline">¶</a></h2>
<p>创建vite项目</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># npm 7+, 需要额外的双横线：</span>
<span class="n">npm</span> <span class="n">init</span> <span class="n">vite</span><span class="nd">@latest</span> <span class="n">vue3</span><span class="o">-</span><span class="n">xixi</span><span class="o">-</span><span class="n">admin</span> <span class="o">--</span> <span class="o">--</span><span class="n">template</span> <span class="n">vue</span>

<span class="c1"># yarn</span>
<span class="n">yarn</span> <span class="n">create</span> <span class="n">vite</span> <span class="n">vue3</span><span class="o">-</span><span class="n">xixi</span><span class="o">-</span><span class="n">admin</span> <span class="o">--</span><span class="n">template</span> <span class="n">vue</span>

<span class="c1"># pnpm</span>
<span class="n">pnpm</span> <span class="n">create</span> <span class="n">vite</span> <span class="n">vue3</span><span class="o">-</span><span class="n">xixi</span><span class="o">-</span><span class="n">admin</span> <span class="o">--</span> <span class="o">--</span><span class="n">template</span> <span class="n">vue</span>
</pre></div>
</div>
<p>vite生成ts项目另种方式 选择vue-ts模板</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># npm 7+, 需要额外的双横线：</span>
<span class="n">npm</span> <span class="n">init</span> <span class="n">vite</span><span class="nd">@latest</span> <span class="n">vue3</span><span class="o">-</span><span class="n">xixi</span><span class="o">-</span><span class="n">admin</span> <span class="o">--</span> <span class="o">--</span><span class="n">template</span> <span class="n">vue</span><span class="o">-</span><span class="n">ts</span>

<span class="c1"># yarn</span>
<span class="n">yarn</span> <span class="n">create</span> <span class="n">vite</span> <span class="n">vue3</span><span class="o">-</span><span class="n">xixi</span><span class="o">-</span><span class="n">admin</span> <span class="o">--</span><span class="n">template</span> <span class="n">vue</span><span class="o">-</span><span class="n">ts</span>

<span class="c1"># pnpm</span>
<span class="n">pnpm</span> <span class="n">create</span> <span class="n">vite</span> <span class="n">vue3</span><span class="o">-</span><span class="n">xixi</span><span class="o">-</span><span class="n">admin</span> <span class="o">--</span> <span class="o">--</span><span class="n">template</span> <span class="n">vue</span><span class="o">-</span><span class="n">ts</span>
</pre></div>
</div>
<p>我们这里执行</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pnpm</span> <span class="n">create</span> <span class="n">vite</span> <span class="n">vue3</span><span class="o">-</span><span class="n">xixi</span><span class="o">-</span><span class="n">admin</span> <span class="o">--</span> <span class="o">--</span><span class="n">template</span> <span class="n">vue</span><span class="o">-</span><span class="n">ts</span>
<span class="n">cd</span> <span class="n">vue3</span><span class="o">-</span><span class="n">xixi</span><span class="o">-</span><span class="n">admin</span>
<span class="n">pnpm</span> <span class="n">install</span>
<span class="n">pnpm</span> <span class="n">run</span> <span class="n">dev</span>
</pre></div>
</div>
<section id="vite-config-js">
<h3><a class="toc-backref" href="#id12">2.1 vite.config.js配置文件</a><a class="headerlink" href="#vite-config-js" title="Permalink to this headline">¶</a></h3>
<p><strong>配置 ip 访问项目</strong></p>
<ul class="simple">
<li><p>vite 启动后出现 “ Network: use –host to expose ”</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="p">{</span> <span class="n">defineConfig</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;vite&#39;</span>
<span class="kn">import</span> <span class="nn">vue</span> <span class="kn">from</span> <span class="s1">&#39;@vitejs/plugin-vue&#39;</span>

<span class="o">//</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">vitejs</span><span class="o">.</span><span class="n">dev</span><span class="o">/</span><span class="n">config</span><span class="o">/</span>
<span class="n">export</span> <span class="n">default</span> <span class="n">defineConfig</span><span class="p">({</span>
  <span class="n">plugins</span><span class="p">:</span> <span class="p">[</span><span class="n">vue</span><span class="p">()],</span>
  <span class="o">//</span> <span class="n">在文件中添加以下内容</span>
  <span class="n">server</span><span class="p">:</span> <span class="p">{</span>
    <span class="n">host</span><span class="p">:</span> <span class="s1">&#39;0.0.0.0&#39;</span>
  <span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
<ul class="simple">
<li><p>重新启动后显示</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>VITE v3.0.9  ready in 905 ms

➜  Local:   http://localhost:4000/
➜  Network: http://192.168.252.1:4000/
➜  Network: http://192.168.91.1:4000/
➜  Network: http://172.16.3.134:4000/
</pre></div>
</div>
</section>
<section id="vuerouter">
<h3><a class="toc-backref" href="#id13">2.2 vueRouter</a><a class="headerlink" href="#vuerouter" title="Permalink to this headline">¶</a></h3>
<p>安装vue-<a class="reference external" href="mailto:router&#37;&#52;&#48;next">router<span>&#64;</span>next</a>，最新版路由</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cnpm</span> <span class="n">install</span> <span class="n">vue</span><span class="o">-</span><span class="n">router</span><span class="nd">@next</span> <span class="o">--</span><span class="n">save</span>

<span class="ow">or</span>

<span class="n">pnpm</span> <span class="n">install</span> <span class="n">vue</span><span class="o">-</span><span class="n">router</span><span class="nd">@next</span> <span class="o">--</span><span class="n">save</span>
</pre></div>
</div>
<p>在src目录下创建router路由目录，添加index.ts(记得在src目录下创建views文件夹)</p>
<p><code class="docutils literal notranslate"><span class="pre">src/router/index.ts</span></code></p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="p">{</span> <span class="nx">createRouter</span><span class="p">,</span> <span class="nx">createWebHashHistory</span><span class="p">,</span> <span class="nx">RouteRecordRaw</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue-router&#39;</span>
<span class="k">import</span> <span class="nx">Layout</span> <span class="nx">from</span> <span class="s1">&#39;@/layout/index.vue&#39;</span>

<span class="kd">const</span> <span class="nx">routes</span>: <span class="kt">Array</span><span class="o">&lt;</span><span class="nx">RouteRecordRaw</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span>
    <span class="nx">component</span>: <span class="kt">Layout</span><span class="p">,</span>
    <span class="nx">redirect</span><span class="o">:</span> <span class="s1">&#39;/dashboard&#39;</span><span class="p">,</span>
    <span class="nx">children</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;dashboard&#39;</span><span class="p">,</span>
        <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Dashboard&#39;</span><span class="p">,</span>
        <span class="nx">component</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">import</span><span class="p">(</span><span class="cm">/* webpackChunkName: &quot;dashboard&quot; */</span> <span class="s1">&#39;@/views/dashboard/index.vue&#39;</span><span class="p">),</span>
        <span class="nx">meta</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Dashboard&#39;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">]</span>

<span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nx">createRouter</span><span class="p">({</span>
  <span class="nx">history</span>: <span class="kt">createWebHashHistory</span><span class="p">(),</span>
  <span class="nx">routes</span>
<span class="p">})</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">router</span>
</pre></div>
</div>
<p>在<code class="docutils literal notranslate"><span class="pre">main.ts</span></code>中引入router</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="p">{</span> <span class="nx">createApp</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
<span class="k">import</span> <span class="s1">&#39;./style.css&#39;</span>
<span class="k">import</span> <span class="nx">App</span> <span class="nx">from</span> <span class="s1">&#39;./App.vue&#39;</span>
<span class="k">import</span> <span class="nx">router</span> <span class="nx">from</span> <span class="s1">&#39;./router/index&#39;</span>

<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">createApp</span><span class="p">(</span><span class="nx">App</span><span class="p">)</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">router</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="pinia">
<h3><a class="toc-backref" href="#id14">2.3 Pinia状态管理</a><a class="headerlink" href="#pinia" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Pinia 是 Vue.js 的轻量级状态管理库，Vuex 的替代方案。</p>
</div></blockquote>
<p>尤雨溪于2021.11.24 在 Twitter 上宣布：Pinia 正式成为 vuejs
官方的状态库，意味着 Pinia 就是 Vuex 5 。</p>
<p><strong>1. 安装Pinia</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cnpm</span> <span class="n">install</span> <span class="n">pinia</span> <span class="o">--</span><span class="n">save</span>

<span class="ow">or</span>

<span class="n">pnpm</span> <span class="n">install</span> <span class="n">pinia</span> <span class="o">--</span><span class="n">save</span>
</pre></div>
</div>
<p><strong>2. Pinia全局注册</strong></p>
<p>在<code class="docutils literal notranslate"><span class="pre">main.ts</span></code>中引入pinia</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="p">{</span> <span class="nx">createApp</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
<span class="k">import</span> <span class="s1">&#39;./style.css&#39;</span>
<span class="k">import</span> <span class="nx">App</span> <span class="nx">from</span> <span class="s1">&#39;./App.vue&#39;</span>

<span class="k">import</span> <span class="nx">router</span> <span class="nx">from</span> <span class="s1">&#39;./router/index&#39;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">createPinia</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;pinia&quot;</span>
<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">createApp</span><span class="p">(</span><span class="nx">App</span><span class="p">)</span>


<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">router</span><span class="p">)</span>
   <span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">createPinia</span><span class="p">())</span>
   <span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>3. Pinia模块封装</strong> (先做了解)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// src/store/modules/user.ts
// 用户状态模块
import { defineStore } from &quot;pinia&quot;;
import { UserState } from &quot;@/types&quot;; // 用户state的TypeScript类型声明，文件路径 src/types/store/user.d.ts

const useUserStore = defineStore({
    id: &quot;user&quot;,
    state: (): UserState =&gt; ({
        token:&#39;&#39;,
        nickname: &#39;&#39;
    }),
    actions: {
      getUserInfo() {
        return new Promise(((resolve, reject) =&gt; {
          ...
          resolve(data)
          ...
        }))
      }
    }
})

export default useUserStore;



// src/store/index.ts
import useUserStore from &#39;./modules/user&#39;
const useStore = () =&gt; ({
    user: useUserStore()
})
export default useStore
</pre></div>
</div>
<p><strong>4. 使用Pinia</strong>(先做了解)</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="nx">useStore</span> <span class="nx">from</span> <span class="s2">&quot;@/store&quot;</span><span class="p">;</span>

<span class="kd">const</span> <span class="p">{</span> <span class="nx">user</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useStore</span><span class="p">()</span>
<span class="c1">// state</span>
<span class="kd">const</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">user</span><span class="p">.</span><span class="nx">token</span>
<span class="c1">// action</span>
<span class="nx">user</span><span class="p">.</span><span class="nx">getUserInfo</span><span class="p">().</span><span class="nx">then</span><span class="p">(({</span><span class="nx">data</span><span class="p">})</span><span class="o">=&gt;</span><span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
<span class="p">})</span>
</pre></div>
</div>
</section>
<section id="axios">
<h3><a class="toc-backref" href="#id15">2.4 axios</a><a class="headerlink" href="#axios" title="Permalink to this headline">¶</a></h3>
<p>安装<code class="docutils literal notranslate"><span class="pre">axios</span></code>和 <code class="docutils literal notranslate"><span class="pre">qs</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cnpm</span> <span class="n">install</span> <span class="n">axios</span> <span class="o">-</span><span class="n">S</span>
<span class="ow">or</span>
<span class="n">pnpm</span> <span class="n">install</span> <span class="n">axios</span> <span class="o">--</span><span class="n">save</span>

<span class="n">cnpm</span> <span class="n">install</span> <span class="n">qs</span>  <span class="o">-</span><span class="n">S</span>
<span class="ow">or</span>
<span class="n">pnpm</span> <span class="n">install</span> <span class="n">qs</span> <span class="o">--</span><span class="n">save</span>
</pre></div>
</div>
</section>
<section id="eslint-plugin-vue">
<h3><a class="toc-backref" href="#id16">2.5 eslint-plugin-vue 文件检查</a><a class="headerlink" href="#eslint-plugin-vue" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cnpm</span> <span class="n">install</span> <span class="o">-</span><span class="n">D</span> <span class="n">eslint</span> <span class="n">eslint</span><span class="o">-</span><span class="n">plugin</span><span class="o">-</span><span class="n">vue</span>
<span class="ow">or</span>
<span class="n">pnpm</span> <span class="n">install</span> <span class="n">eslint</span> <span class="n">eslint</span><span class="o">-</span><span class="n">plugin</span><span class="o">-</span><span class="n">vue</span> <span class="o">--</span><span class="n">save</span><span class="o">-</span><span class="n">dev</span>
</pre></div>
</div>
<p>根目录下创建 .eslintrc.js</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module</span><span class="o">.</span><span class="n">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="n">extends</span><span class="p">:</span> <span class="p">[</span>
    <span class="s1">&#39;eslint:recommended&#39;</span><span class="p">,</span>
    <span class="s1">&#39;plugin:vue/vue3-essential&#39;</span><span class="p">,</span>
    <span class="s1">&#39;plugin:@typescript-eslint/recommended&#39;</span>
  <span class="p">],</span>
  <span class="n">plugins</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;vue&#39;</span><span class="p">,</span> <span class="s1">&#39;@typescript-eslint&#39;</span><span class="p">],</span>
  <span class="n">rules</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">&#39;vue/multi-word-component-names&#39;</span><span class="p">:</span> <span class="s1">&#39;off&#39;</span><span class="p">,</span>
    <span class="s1">&#39;@typescript-eslint/no-empty-function&#39;</span><span class="p">:</span> <span class="s1">&#39;off&#39;</span><span class="p">,</span> <span class="o">//</span> <span class="n">关闭空方法检查</span>
    <span class="s1">&#39;@typescript-eslint/no-explicit-any&#39;</span><span class="p">:</span> <span class="s1">&#39;off&#39;</span><span class="p">,</span> <span class="o">//</span> <span class="n">关闭any类型的警告</span>
    <span class="s1">&#39;vue/no-v-model-argument&#39;</span><span class="p">:</span> <span class="s1">&#39;off&#39;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="element-plus">
<h3><a class="toc-backref" href="#id17">2.6 element-plus安装配置</a><a class="headerlink" href="#element-plus" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cnpm</span> <span class="n">install</span> <span class="n">element</span><span class="o">-</span><span class="n">plus</span> <span class="o">--</span><span class="n">save</span>
<span class="n">npm</span> <span class="n">install</span> <span class="nd">@element</span><span class="o">-</span><span class="n">plus</span><span class="o">/</span><span class="n">icons</span><span class="o">-</span><span class="n">vue</span>
<span class="ow">or</span>
<span class="n">pnpm</span> <span class="n">install</span> <span class="n">element</span><span class="o">-</span><span class="n">plus</span>  <span class="o">--</span><span class="n">save</span>
<span class="n">pnpm</span> <span class="n">install</span> <span class="nd">@element</span><span class="o">-</span><span class="n">plus</span><span class="o">/</span><span class="n">icons</span><span class="o">-</span><span class="n">vue</span>
</pre></div>
</div>
<section id="id3">
<h4>1. 按需导入-自动导入<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p>首先你需要安装<code class="docutils literal notranslate"><span class="pre">unplugin-vue-components</span></code> 和
<code class="docutils literal notranslate"><span class="pre">unplugin-auto-import</span></code>这两款插件</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pnpm</span> <span class="n">install</span> <span class="o">-</span><span class="n">D</span> <span class="n">unplugin</span><span class="o">-</span><span class="n">vue</span><span class="o">-</span><span class="n">components</span> <span class="n">unplugin</span><span class="o">-</span><span class="n">auto</span><span class="o">-</span><span class="kn">import</span>
</pre></div>
</div>
<p>然后把下列代码插入到你的 <code class="docutils literal notranslate"><span class="pre">Vite</span></code> 的配置文件中</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="p">{</span> <span class="n">defineConfig</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;vite&#39;</span>
<span class="kn">import</span> <span class="nn">vue</span> <span class="kn">from</span> <span class="s1">&#39;@vitejs/plugin-vue&#39;</span>
<span class="kn">import</span> <span class="nn">AutoImport</span> <span class="kn">from</span> <span class="s1">&#39;unplugin-auto-import/vite&#39;</span>
<span class="kn">import</span> <span class="nn">Components</span> <span class="kn">from</span> <span class="s1">&#39;unplugin-vue-components/vite&#39;</span>
<span class="kn">import</span> <span class="p">{</span> <span class="n">ElementPlusResolver</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;unplugin-vue-components/resolvers&#39;</span>

<span class="o">//</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">vitejs</span><span class="o">.</span><span class="n">dev</span><span class="o">/</span><span class="n">config</span><span class="o">/</span>
<span class="n">export</span> <span class="n">default</span> <span class="n">defineConfig</span><span class="p">({</span>
  <span class="n">plugins</span><span class="p">:</span> <span class="p">[</span>
    <span class="n">vue</span><span class="p">(),</span>
    <span class="n">AutoImport</span><span class="p">({</span>
      <span class="n">resolvers</span><span class="p">:</span> <span class="p">[</span><span class="n">ElementPlusResolver</span><span class="p">()],</span>
    <span class="p">}),</span>
    <span class="n">Components</span><span class="p">({</span>
      <span class="n">resolvers</span><span class="p">:</span> <span class="p">[</span><span class="n">ElementPlusResolver</span><span class="p">()],</span>
    <span class="p">}),</span>
  <span class="p">],</span>
  <span class="o">//</span> <span class="n">在文件中添加以下内容</span>
  <span class="n">server</span><span class="p">:</span> <span class="p">{</span>
    <span class="n">host</span><span class="p">:</span> <span class="s1">&#39;0.0.0.0&#39;</span>
  <span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
</section>
</section>
<section id="id4">
<h3><a class="toc-backref" href="#id18">2.7 路径别名配置</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>使用 &#64; 代替 src</p>
</div></blockquote>
<p><strong>1. Vite配置</strong></p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="c1">// vite.config.ts</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">defineConfig</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vite&#39;</span>
<span class="k">import</span> <span class="nx">vue</span> <span class="nx">from</span> <span class="s1">&#39;@vitejs/plugin-vue&#39;</span>
<span class="k">import</span> <span class="nx">path</span> <span class="nx">from</span> <span class="s1">&#39;path&#39;</span>

<span class="c1">// 1. defineConfig: 不用 jsdoc 注解也可以获取类型提示</span>
<span class="c1">// 2. 找不到模块&quot;path&quot;或其相应的类型声明 或者 找不到名称&quot;__dirname 安装 @types/node</span>

<span class="kd">const</span> <span class="nx">resolve</span> <span class="o">=</span> <span class="p">(</span><span class="nx">dir</span>: <span class="kt">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="nx">dir</span><span class="p">)</span>

<span class="c1">// https://vitejs.dev/config/</span>
<span class="k">export</span> <span class="k">default</span> <span class="nx">defineConfig</span><span class="p">({</span>
  <span class="nx">plugins</span><span class="o">:</span> <span class="p">[</span><span class="nx">vue</span><span class="p">()],</span>
      <span class="c1">// 在文件中添加以下内容</span>
      <span class="nx">server</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">host</span><span class="o">:</span> <span class="s1">&#39;0.0.0.0&#39;</span>
      <span class="p">},</span>
  <span class="nx">resolve</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">alias</span><span class="o">:</span> <span class="p">{</span>
      <span class="s1">&#39;@&#39;</span><span class="o">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">),</span>
      <span class="s1">&#39;comps&#39;</span><span class="o">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;src/components&#39;</span><span class="p">),</span>
      <span class="s1">&#39;apis&#39;</span><span class="o">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;src/apis&#39;</span><span class="p">),</span>
      <span class="s1">&#39;views&#39;</span><span class="o">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;src/views&#39;</span><span class="p">),</span>
      <span class="s1">&#39;utils&#39;</span><span class="o">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;src/utils&#39;</span><span class="p">),</span>
      <span class="s1">&#39;routes&#39;</span><span class="o">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;src/routes&#39;</span><span class="p">),</span>
      <span class="s1">&#39;styles&#39;</span><span class="o">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;src/styles&#39;</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">},</span>
<span class="p">})</span>
</pre></div>
</div>
<p><strong>2. 安装&#64;types/node</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">path</span> <span class="pre">from</span> <span class="pre">'path'</span></code>编译器报错：TS2307: Cannot find module
‘path’ or its corresponding type declarations.</p>
<p>本地安装 Node 的 TypeScript 类型描述文件即可解决编译器报错</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pnpm install @types/node --save-dev
</pre></div>
</div>
</section>
<section id="typescript">
<h3><a class="toc-backref" href="#id19">2.8 TypeScript 编译配置</a><a class="headerlink" href="#typescript" title="Permalink to this headline">¶</a></h3>
<p>同样还是<code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">path</span> <span class="pre">from</span> <span class="pre">'path'</span></code> 编译报错: TS1259: Module ‘“path”’
can only be default-imported using the ‘allowSyntheticDefaultImports’
flag</p>
<p>因为 typescript 特殊的 import 方式 ,
需要配置允许默认导入的方式，还有路径别名的配置</p>
<p><code class="docutils literal notranslate"><span class="pre">tsconfig.json</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>{
  &quot;compilerOptions&quot;: {
    &quot;target&quot;: &quot;ESNext&quot;,
    &quot;useDefineForClassFields&quot;: true,
    &quot;module&quot;: &quot;ESNext&quot;,
    &quot;moduleResolution&quot;: &quot;Node&quot;,
    &quot;strict&quot;: true,
    &quot;jsx&quot;: &quot;preserve&quot;,
    &quot;sourceMap&quot;: true,
    &quot;resolveJsonModule&quot;: true,
    &quot;isolatedModules&quot;: true,
    &quot;esModuleInterop&quot;: true,
    &quot;lib&quot;: [&quot;ESNext&quot;, &quot;DOM&quot;],
    &quot;skipLibCheck&quot;: true,
    &quot;types&quot;: [ &quot;node&quot; ],
    // 解析非相对模块的基地址，默认是当前目录
    &quot;baseUrl&quot;: &quot;./&quot;,
    //路径映射，相对于baseUrl
    &quot;paths&quot;: {
      &quot;@/*&quot;: [&quot;src/*&quot;]
    },
    // 允许默认导入
    &quot;allowSyntheticDefaultImports&quot;: true
  },
  &quot;include&quot;: [&quot;src/**/*.ts&quot;, &quot;src/**/*.d.ts&quot;, &quot;src/**/*.tsx&quot;, &quot;src/**/*.vue&quot;],
  &quot;references&quot;: [{ &quot;path&quot;: &quot;./tsconfig.node.json&quot; }]
}
</pre></div>
</div>
<p><strong>4.别名使用</strong></p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>// App.vue
import HelloWorld from &#39;/src/components/HelloWorld.vue&#39;
                                                ↓
import HelloWorld from &#39;@/components/HelloWorld.vue&#39;
</pre></div>
</div>
</section>
<section id="sass">
<h3><a class="toc-backref" href="#id20">2.9 Sass 全局样式</a><a class="headerlink" href="#sass" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>安装依赖 使用<code class="docutils literal notranslate"><span class="pre">dart-sass</span></code>,
安装速度比较快，大概率不会出现安装不成功</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pnpm</span> <span class="n">i</span> <span class="o">-</span><span class="n">D</span> <span class="n">sass</span>
</pre></div>
</div>
<p><a class="reference external" href="https://vitejs.cn/guide/features.html#css-pre-processors">https://vitejs.cn/guide/features.html#css-pre-processors</a></p>
<ol class="arabic simple" start="2">
<li><p>使用 每个页面自己对应的样式都写在自己的 .vue 文件之中 <code class="docutils literal notranslate"><span class="pre">scoped</span></code>
它顾名思义给 css 加了一个域的概念。</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">style</span> <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;scss&quot;</span><span class="o">&gt;</span>
  <span class="o">/*</span> <span class="k">global</span> <span class="n">styles</span> <span class="o">*/</span>
<span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">style</span> <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;scss&quot;</span> <span class="n">scoped</span><span class="o">&gt;</span>
  <span class="o">/*</span> <span class="n">local</span> <span class="n">styles</span> <span class="o">*/</span>
<span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>在src下创建 styles目录存放全局样式文件，目前没多少样式可以直接拷贝</p>
<p><code class="docutils literal notranslate"><span class="pre">src\styles\index.scss</span></code></p>
<p>入口css</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@import</span> <span class="s1">&#39;./variables.scss&#39;</span><span class="p">;</span>
<span class="nd">@import</span> <span class="s1">&#39;./sidebar.scss&#39;</span><span class="p">;</span>


<span class="n">html</span> <span class="p">{</span>
  <span class="n">height</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span><span class="p">;</span>
  <span class="n">box</span><span class="o">-</span><span class="n">sizing</span><span class="p">:</span> <span class="n">border</span><span class="o">-</span><span class="n">box</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">body</span> <span class="p">{</span>
  <span class="n">height</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span><span class="p">;</span>
  <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">osx</span><span class="o">-</span><span class="n">font</span><span class="o">-</span><span class="n">smoothing</span><span class="p">:</span> <span class="n">grayscale</span><span class="p">;</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">font</span><span class="o">-</span><span class="n">smoothing</span><span class="p">:</span> <span class="n">antialiased</span><span class="p">;</span>
  <span class="n">text</span><span class="o">-</span><span class="n">rendering</span><span class="p">:</span> <span class="n">optimizeLegibility</span><span class="p">;</span>
  <span class="n">font</span><span class="o">-</span><span class="n">family</span><span class="p">:</span> <span class="n">Helvetica</span> <span class="n">Neue</span><span class="p">,</span> <span class="n">Helvetica</span><span class="p">,</span> <span class="n">PingFang</span> <span class="n">SC</span><span class="p">,</span> <span class="n">Hiragino</span> <span class="n">Sans</span> <span class="n">GB</span><span class="p">,</span> <span class="n">Microsoft</span> <span class="n">YaHei</span><span class="p">,</span> <span class="n">Arial</span><span class="p">,</span> <span class="n">sans</span><span class="o">-</span><span class="n">serif</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">#app {</span>
  <span class="n">height</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">src\styles\sidebar.scss</span></code></p>
<p>主要针对sidebar的样式</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#app {

  .sidebar-container {
    width: $sideBarWidth !important;
    height: 100%;
    background-color: pink;
  }
}
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">src\styles\variables.scss</span></code></p>
<p>导出一些scss变量 可在js中使用scss变量</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// base color
$blue:#324157;
$light-blue:#3A71A8;
$red:#C03639;
$pink: #E65D6E;
$green: #30B08F;
$tiffany: #4AB7BD;
$yellow:#FEC171;
$panGreen: #30B08F;

// sidebar
$menuText:#bfcbd9;
$menuActiveText:#409EFF;
$subMenuActiveText:#f4f4f5; // https://github.com/ElemeFE/element/issues/12951

$menuBg:#304156;
$menuHover:#263445;

$subMenuBg:#1f2d3d;
$subMenuHover:#001528;

$sideBarWidth: 210px;

// The :export directive is the magic sauce for webpack
// https://mattferderer.com/use-sass-variables-in-typescript-and-javascript
:export {
  menuText: $menuText;
  menuActiveText: $menuActiveText;
  subMenuActiveText: $subMenuActiveText;
  menuBg: $menuBg;
  menuHover: $menuHover;
  subMenuBg: $subMenuBg;
  subMenuHover: $subMenuHover;
  sideBarWidth: $sideBarWidth;
}
</pre></div>
</div>
<p>scss类型声明文件</p>
<p>ts中使用sass变量 需要类型声明</p>
<p>参考文档
<a class="reference external" href="https://mattferderer.com/use-sass-variables-in-typescript-and-javascript">https://mattferderer.com/use-sass-variables-in-typescript-and-javascript</a></p>
<p>新建<code class="docutils literal notranslate"><span class="pre">src\styles\variables.scss.d.ts</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">interface</span> <span class="n">ScssVariables</span> <span class="p">{</span>
  <span class="n">menuText</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
  <span class="n">menuActiveText</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
  <span class="n">subMenuActiveText</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
  <span class="n">menuBg</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
  <span class="n">menuHover</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
  <span class="n">subMenuBg</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
  <span class="n">subMenuHover</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
  <span class="n">sideBarWidth</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">const</span> <span class="n">variables</span><span class="p">:</span> <span class="n">ScssVariables</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">variables</span>
</pre></div>
</div>
<p>最后，在src/main.ts中引入全局css</p>
<p>先安装normalize.css</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">i</span> <span class="n">normalize</span><span class="o">.</span><span class="n">css</span> <span class="o">--</span><span class="n">save</span>
<span class="n">或</span>
<span class="n">pnpm</span> <span class="n">install</span> <span class="n">normalize</span><span class="o">.</span><span class="n">css</span>  <span class="o">--</span><span class="n">save</span>
</pre></div>
</div>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="p">{</span> <span class="nx">createApp</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
<span class="k">import</span> <span class="s1">&#39;./style.css&#39;</span>
<span class="k">import</span> <span class="nx">App</span> <span class="nx">from</span> <span class="s1">&#39;./App.vue&#39;</span>

<span class="k">import</span> <span class="nx">router</span> <span class="nx">from</span> <span class="s1">&#39;./router/index&#39;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">createPinia</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;pinia&quot;</span>
<span class="k">import</span> <span class="nx">ElementPlus</span> <span class="nx">from</span> <span class="s1">&#39;element-plus&#39;</span>
<span class="k">import</span> <span class="s1">&#39;element-plus/theme-chalk/index.css&#39;</span>

<span class="c1">// 初始化css 重置css默认样式</span>
<span class="k">import</span> <span class="s1">&#39;normalize.css/normalize.css&#39;</span>
<span class="c1">// 全局 css</span>
<span class="k">import</span> <span class="s1">&#39;@/styles/index.scss&#39;</span>

<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">createApp</span><span class="p">(</span><span class="nx">App</span><span class="p">)</span>


<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">router</span><span class="p">)</span>
   <span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">createPinia</span><span class="p">())</span>
   <span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">ElementPlus</span><span class="p">)</span>
   <span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>本节参考源码</p>
<p><a class="reference external" href="https://gitee.com/brolly/vue3-element-admin/commit/a24aac74b26a044efbbbea51ae687f7eb490eeab">https://gitee.com/brolly/vue3-element-admin/commit/a24aac74b26a044efbbbea51ae687f7eb490eeab</a></p>
</section>
</section>
<section id="svgicon">
<h2><a class="toc-backref" href="#id21"><span class="section-number">31.3.3. </span>3.SvgIcon组件开发</a><a class="headerlink" href="#svgicon" title="Permalink to this headline">¶</a></h2>
<section id="svg-sprite">
<h3><a class="toc-backref" href="#id22">3.1 什么是Svg Sprite</a><a class="headerlink" href="#svg-sprite" title="Permalink to this headline">¶</a></h3>
<p>将多个 svg 打包成svg-sprite。svg雪碧图。类似于CSS中的Sprite技术。</p>
<p>图标图形整合在一起，实际呈现的时候准确显示特定图标。</p>
<p>阅读资料</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.zhangxinxu.com/wordpress/2014/07/introduce-svg-sprite-technology/">张鑫旭大佬文章</a></p></li>
<li><p><a class="reference external" href="https://segmentfault.com/a/1190000015367490">SvgIcon工作原理-推荐阅读</a></p></li>
<li><p><a class="reference external" href="https://blog.csdn.net/happyqyt/article/details/88369891">SVG
Sprite技术介绍</a></p></li>
</ul>
<p>感兴趣的这些文章可以阅读下。</p>
</section>
<section id="svg">
<h3><a class="toc-backref" href="#id23">3.2 准备svg文件</a><a class="headerlink" href="#svg" title="Permalink to this headline">¶</a></h3>
<p>根目录下创建src/icons目录
将svg图标文件放到&#64;/icons/svg文件下面，<a class="reference external" href="https://static.zhufengpeixun.com/svg_1646126485370.zip">svg文件压缩包</a></p>
<p>创建文件src/icons/index.ts 全局注册svg icon组件入口 现在还没开发 稍后</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import { App } from &#39;vue&#39;
import SvgIcon from &#39;@/components/SvgIcon/index.vue&#39;

// // 使用require.context 加载./svg目录下所有svg文件
// const files = import.meta.globEager&lt;any&gt;(&quot;./svg/*.svg&quot;)

//如果上面这句不行就把上面这句注释掉，使用下面这句
import&#39;virtual:svg-icons-register&#39;

export default (app: App) =&gt; {
  // 全局注册svg-icon组件
  app.component(&#39;svg-icon&#39;, SvgIcon)
}
</pre></div>
</div>
<p>src/icons/svgo.yml 配置文件</p>
<p><a class="reference external" href="https://github.com/svg/svgo">svgo</a> svg
压缩处理优化配置文件。详情看4-7 svg优化</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plugins</span><span class="p">:</span>
<span class="o">-</span> <span class="n">removeAttrs</span><span class="p">:</span>
    <span class="n">attrs</span><span class="p">:</span>
      <span class="o">-</span> <span class="s1">&#39;fill&#39;</span>
      <span class="o">-</span> <span class="s1">&#39;fill-rule&#39;</span>
</pre></div>
</div>
</section>
<section id="vite-plugin-svg-icons">
<h3><a class="toc-backref" href="#id24">3.3 配置vite-plugin-svg-icons</a><a class="headerlink" href="#vite-plugin-svg-icons" title="Permalink to this headline">¶</a></h3>
<p>用来根据导入的 svg 文件自动生成 symbol 标签并插入 html</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pnpm</span> <span class="n">install</span> <span class="n">vite</span><span class="o">-</span><span class="n">plugin</span><span class="o">-</span><span class="n">svg</span><span class="o">-</span><span class="n">icons</span> <span class="o">-</span><span class="n">D</span>
</pre></div>
</div>
<p>修改 vite.config.js 配置文件</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="c1">// vite.config.ts</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">defineConfig</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vite&#39;</span>
<span class="k">import</span> <span class="nx">vue</span> <span class="nx">from</span> <span class="s1">&#39;@vitejs/plugin-vue&#39;</span>
<span class="k">import</span> <span class="nx">path</span> <span class="nx">from</span> <span class="s1">&#39;path&#39;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">createSvgIconsPlugin</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vite-plugin-svg-icons&#39;</span>

<span class="c1">// 1. defineConfig: 不用 jsdoc 注解也可以获取类型提示</span>
<span class="c1">// 2. 找不到模块&quot;path&quot;或其相应的类型声明 或者 找不到名称&quot;__dirname 安装 @types/node</span>

<span class="kd">const</span> <span class="nx">resolve</span> <span class="o">=</span> <span class="p">(</span><span class="nx">dir</span>: <span class="kt">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="nx">dir</span><span class="p">)</span>

<span class="c1">// https://vitejs.dev/config/</span>
<span class="k">export</span> <span class="k">default</span> <span class="nx">defineConfig</span><span class="p">({</span>
  <span class="nx">plugins</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">vue</span><span class="p">(),</span>
    <span class="nx">createSvgIconsPlugin</span><span class="p">({</span>
      <span class="nx">iconDirs</span><span class="o">:</span> <span class="p">[</span><span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">cwd</span><span class="p">(),</span> <span class="s1">&#39;src/icons/svg&#39;</span><span class="p">)],</span>
      <span class="nx">symbolId</span><span class="o">:</span> <span class="s1">&#39;icon-[dir]-[name]&#39;</span><span class="p">,</span>
      <span class="nx">inject</span><span class="o">:</span> <span class="s1">&#39;body-last&#39;</span><span class="p">,</span>
      <span class="nx">customDomId</span><span class="o">:</span> <span class="s1">&#39;__svg__icons__dom__&#39;</span>
    <span class="p">})</span>
  <span class="p">],</span>
      <span class="c1">// 在文件中添加以下内容</span>
      <span class="nx">server</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">host</span><span class="o">:</span> <span class="s1">&#39;0.0.0.0&#39;</span>
      <span class="p">},</span>
  <span class="nx">resolve</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">alias</span><span class="o">:</span> <span class="p">{</span>
      <span class="s1">&#39;@&#39;</span><span class="o">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">),</span>
      <span class="s1">&#39;comps&#39;</span><span class="o">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;src/components&#39;</span><span class="p">),</span>
      <span class="s1">&#39;apis&#39;</span><span class="o">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;src/apis&#39;</span><span class="p">),</span>
      <span class="s1">&#39;views&#39;</span><span class="o">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;src/views&#39;</span><span class="p">),</span>
      <span class="s1">&#39;utils&#39;</span><span class="o">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;src/utils&#39;</span><span class="p">),</span>
      <span class="s1">&#39;routes&#39;</span><span class="o">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;src/routes&#39;</span><span class="p">),</span>
      <span class="s1">&#39;styles&#39;</span><span class="o">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;src/styles&#39;</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">},</span>
<span class="p">})</span>
</pre></div>
</div>
</section>
<section id="svg-icon">
<h3><a class="toc-backref" href="#id25">3.4 开发svg icon组件</a><a class="headerlink" href="#svg-icon" title="Permalink to this headline">¶</a></h3>
<p>src/components下创建 SvgIcon/index.vue</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;template&gt;
  &lt;!-- 如果iconClass是带协议的图标链接 则通过style属性方式渲染--&gt;
  &lt;div
    class=&quot;svg-icon svg-external-icon&quot;
    v-if=&quot;isExt&quot;
    :style=&quot;styleExternalIcon&quot;
    v-bind=&quot;$attrs&quot;
  &gt;&lt;/div&gt;
  &lt;!-- SVG icon 通过名称使用 --&gt;
  &lt;svg v-else :class=&quot;svgClass&quot; aria-hidden=&quot;true&quot; v-bind=&quot;$attrs&quot;&gt;
    &lt;!--
       SVG中的use元素可以调用其他SVG文件的元素，&lt;use xlink:href=&quot;#symbolId&quot;&gt;&lt;/use&gt;
    --&gt;
    &lt;use :xlink:href=&quot;iconName&quot; /&gt;
  &lt;/svg&gt;
&lt;/template&gt;

&lt;script setup lang=&quot;ts&quot;&gt;
import { isExternal } from &#39;@/utils/validate&#39;

import { computed } from &#39;vue&#39;
const props = defineProps&lt;{ iconClass: string,className?:string }&gt;()

// 是否是带协议的图片链接
const isExt = computed(() =&gt; isExternal(props.iconClass || &#39;&#39;))

// 拼接成symbolId 在loader配置中指定了symbolId格式 icon-图标名称
const iconName = computed(() =&gt; `#icon-${props.iconClass}`)

// 添加类名 props.className外部传入自定义类名
const svgClass = computed(() =&gt;
  props.className ? `svg-icon ${props.className}` : &#39;svg-icon&#39;
)

// 如果iconClass是带协议的图标链接 则通过style css属性方式渲染
const styleExternalIcon = computed(() =&gt; ({
  mask: `url(${props.iconClass}) no-repeat 50% 50%`,
  &#39;-webkit-mask&#39;: `url(${props.iconClass}) no-repeat 50% 50%`
}))
&lt;/script&gt;

&lt;style scoped&gt;
.svg-icon {
  width: 1em;
  height: 1em;
  vertical-align: -0.15em;
  fill: currentColor;
  overflow: hidden;
}
.svg-external-icon {
  background-color: currentColor;
  mask-size: cover !important;
  display: inline-block;
}
&lt;/style&gt;
</pre></div>
</div>
<p>&#64;/utils/validate.ts 工具方法</p>
<p>创建<code class="docutils literal notranslate"><span class="pre">src/utils/validate.ts</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// 判断路径是不是带协议的外链
export const isExternal = (path: string): boolean =&gt; {
    return /^(https?:|mailto:|tel:)/.test(path)
  }
</pre></div>
</div>
</section>
<section id="main-tsicon">
<h3><a class="toc-backref" href="#id26">3.5 main.ts注册icon组件</a><a class="headerlink" href="#main-tsicon" title="Permalink to this headline">¶</a></h3>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="p">{</span> <span class="nx">createApp</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
<span class="k">import</span> <span class="s1">&#39;./style.css&#39;</span>
<span class="k">import</span> <span class="nx">App</span> <span class="nx">from</span> <span class="s1">&#39;./App.vue&#39;</span>

<span class="k">import</span> <span class="nx">router</span> <span class="nx">from</span> <span class="s1">&#39;./router/index&#39;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">createPinia</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;pinia&quot;</span>
<span class="k">import</span> <span class="nx">ElementPlus</span> <span class="nx">from</span> <span class="s1">&#39;element-plus&#39;</span>
<span class="k">import</span> <span class="s1">&#39;element-plus/theme-chalk/index.css&#39;</span>

<span class="c1">// 初始化css 重置css默认样式</span>
<span class="k">import</span> <span class="s1">&#39;normalize.css/normalize.css&#39;</span>
<span class="c1">// 全局 css</span>
<span class="k">import</span> <span class="s1">&#39;@/styles/index.scss&#39;</span>


<span class="k">import</span> <span class="s1">&#39;virtual:svg-icons-register&#39;</span>
<span class="k">import</span> <span class="nx">initSvgIcon</span> <span class="nx">from</span> <span class="s1">&#39;@/icons/index&#39;</span>

<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">createApp</span><span class="p">(</span><span class="nx">App</span><span class="p">)</span>


<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">router</span><span class="p">)</span>
   <span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">createPinia</span><span class="p">())</span>
   <span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">ElementPlus</span><span class="p">)</span>
   <span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">initSvgIcon</span><span class="p">)</span>
   <span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>简单引用下</p>
<p>在views/dashboard/index.vue试用下</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;Dashboard page&lt;/h1&gt;
    &lt;svg-icon icon-class=&quot;bug&quot;&gt;&lt;/svg-icon&gt;
    &lt;!-- icon-class svg图标名称 class-name 额外的自定义类名 @click绑定事件 --&gt;
    &lt;svg-icon icon-class=&quot;404&quot; class-name=&quot;custom-class&quot; @click=&quot;sayHi&quot;&gt;&lt;/svg-icon&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup  lang=&quot;ts&quot;&gt;
const sayHi = () =&gt; {
   alert(&#39;hi svg&#39;)
}
&lt;/script&gt;
&lt;style lang=&quot;scss&quot;&gt;
  .custom-class { // 自定义样式404
    font-size: 200px;
    color: green;
  }
&lt;/style&gt;
</pre></div>
</div>
</section>
<section id="id5">
<h3><a class="toc-backref" href="#id27">3.6 Svg优化</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://github.com/svg/svgo">svgo</a>是svg
压缩处理优化工具。我们很多网上下载或者Sketch导出的 svg
会有很多冗余无用的信息，大大的增加了 svg
的尺寸，我们可以使用svgo对它进行优化。</p>
<p>我们在创建src/icons/svgo.yml配置文件</p>
<p>安装svgo，注意需要指定版本号</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pnpm</span> <span class="n">i</span> <span class="o">-</span><span class="n">D</span> <span class="n">svgo</span><span class="o">@</span><span class="mf">1.3</span><span class="o">.</span><span class="mi">2</span>
</pre></div>
</div>
<p>package.json添加npm scripts</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;scripts&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;dev&quot;</span><span class="p">:</span> <span class="s2">&quot;vite&quot;</span><span class="p">,</span>
  <span class="s2">&quot;build&quot;</span><span class="p">:</span> <span class="s2">&quot;vue-tsc --noEmit &amp;&amp; vite build&quot;</span><span class="p">,</span>
  <span class="s2">&quot;preview&quot;</span><span class="p">:</span> <span class="s2">&quot;vite preview&quot;</span><span class="p">,</span>
  <span class="s2">&quot;svgo&quot;</span><span class="p">:</span> <span class="s2">&quot;svgo -f src/icons/svg --config=src/icons/svgo.yml&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>运行<code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">svgo</span></code>压缩优化</p>
<p>svgo地址 <a class="reference external" href="https://github.com/svg/svgo">https://github.com/svg/svgo</a></p>
</section>
<section id="tsconfig-json">
<h3><a class="toc-backref" href="#id28">3.7 tsconfig.json配置</a><a class="headerlink" href="#tsconfig-json" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>{
  &quot;compilerOptions&quot;: {
    &quot;target&quot;: &quot;ESNext&quot;,
    &quot;useDefineForClassFields&quot;: true,
    &quot;module&quot;: &quot;ESNext&quot;,
    &quot;moduleResolution&quot;: &quot;Node&quot;,
    &quot;strict&quot;: true,
    &quot;jsx&quot;: &quot;preserve&quot;,
    &quot;sourceMap&quot;: true,
    &quot;resolveJsonModule&quot;: true,
    &quot;isolatedModules&quot;: true,
    &quot;esModuleInterop&quot;: true,
    &quot;lib&quot;: [&quot;ESNext&quot;, &quot;DOM&quot;],
    &quot;skipLibCheck&quot;: true,
    &quot;types&quot;: [ &quot;node&quot; ],
    // 解析非相对模块的基地址，默认是当前目录
    &quot;baseUrl&quot;: &quot;./&quot;,
    //路径映射，相对于baseUrl
    &quot;paths&quot;: {
      &quot;@/*&quot;: [&quot;src/*&quot;]
    },
    // 允许默认导入
    &quot;allowSyntheticDefaultImports&quot;: true
  },
  &quot;include&quot;: [&quot;src/**/*.ts&quot;, &quot;src/**/*.d.ts&quot;, &quot;src/**/*.tsx&quot;, &quot;src/**/*.vue&quot;],
  &quot;references&quot;: [{ &quot;path&quot;: &quot;./tsconfig.node.json&quot; }]
}
</pre></div>
</div>
</section>
</section>
<section id="vue3-0-element-api">
<h2><a class="toc-backref" href="#id29"><span class="section-number">31.3.4. </span>4.vue3.0全局属性挂载(element api)</a><a class="headerlink" href="#vue3-0-element-api" title="Permalink to this headline">¶</a></h2>
<section id="element-plusapiapp">
<h3><a class="toc-backref" href="#id30">4.1 element-plus组件api挂载到app</a><a class="headerlink" href="#element-plusapiapp" title="Permalink to this headline">¶</a></h3>
<p>添加文件<code class="docutils literal notranslate"><span class="pre">src/plugins/element.ts</span></code></p>
<p>src/plugins/element.ts 代码内容：</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="p">{</span> <span class="nx">App</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
<span class="k">import</span> <span class="p">{</span>
  <span class="nx">ElButton</span><span class="p">,</span>
  <span class="nx">ElMessage</span><span class="p">,</span>
  <span class="nx">ElNotification</span><span class="p">,</span>
  <span class="nx">ElMessageBox</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;element-plus&#39;</span>
<span class="k">import</span> <span class="nx">ElementPlus</span> <span class="nx">from</span> <span class="s1">&#39;element-plus&#39;</span>
<span class="k">import</span> <span class="s1">&#39;element-plus/dist/index.css&#39;</span>

<span class="c1">// Element Plus 组件内部默认使用英语</span>
<span class="c1">// https://element-plus.gitee.io/zh-CN/guide/i18n.html</span>
<span class="k">import</span> <span class="nx">zhCn</span> <span class="nx">from</span> <span class="s1">&#39;element-plus/es/locale/lang/zh-cn&#39;</span>


<span class="c1">// Element Plus 直接使用了 Day.js 项目的时间日期国际化设置, 并且会自动全局设置已经导入的 Day.js 国际化配置。</span>
<span class="k">import</span> <span class="s1">&#39;dayjs/locale/zh-cn&#39;</span>

<span class="c1">// $ELEMENT size属性类型</span>
<span class="k">export</span> <span class="kd">type</span> <span class="nx">Size</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span> <span class="o">|</span> <span class="s1">&#39;medium&#39;</span> <span class="o">|</span> <span class="s1">&#39;small&#39;</span> <span class="o">|</span> <span class="s1">&#39;mini&#39;</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">(</span><span class="nx">app</span>: <span class="kt">App</span><span class="p">)</span><span class="o">:</span> <span class="k">void</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">ElementPlus</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">locale</span>: <span class="kt">zhCn</span>
  <span class="p">})</span>
  <span class="c1">// 按需导入组件列表</span>
  <span class="kd">const</span> <span class="nx">components</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">ElButton</span><span class="p">,</span>
    <span class="nx">ElMessage</span><span class="p">,</span>
    <span class="nx">ElNotification</span><span class="p">,</span>
    <span class="nx">ElMessageBox</span>
  <span class="p">]</span>

  <span class="nx">components</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">component</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">component</span><span class="p">)</span>
  <span class="p">})</span>

  <span class="c1">// Vue.prototype 替换为 config.globalProperties</span>
  <span class="c1">// 文档说明 https://v3.cn.vuejs.org/guide/migration/global-api.html#vue-prototype-%E6%9B%BF%E6%8D%A2%E4%B8%BA-config-globalproperties</span>
  <span class="nx">app</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">globalProperties</span><span class="p">.</span><span class="nx">$message</span> <span class="o">=</span> <span class="nx">ElMessage</span>
  <span class="nx">app</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">globalProperties</span><span class="p">.</span><span class="nx">$notify</span> <span class="o">=</span> <span class="nx">ElNotification</span>
  <span class="nx">app</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">globalProperties</span><span class="p">.</span><span class="nx">$confirm</span> <span class="o">=</span> <span class="nx">ElMessageBox</span><span class="p">.</span><span class="nx">confirm</span>
  <span class="nx">app</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">globalProperties</span><span class="p">.</span><span class="nx">$alert</span> <span class="o">=</span> <span class="nx">ElMessageBox</span><span class="p">.</span><span class="nx">alert</span>
  <span class="nx">app</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">globalProperties</span><span class="p">.</span><span class="nx">$prompt</span> <span class="o">=</span> <span class="nx">ElMessageBox</span><span class="p">.</span><span class="nx">prompt</span>

  <span class="c1">// element-plus全局配置</span>
  <span class="c1">// 说明文档：https://element-plus.gitee.io/#/zh-CN/component/quickstart#quan-ju-pei-zhi</span>
  <span class="c1">// 该对象目前支持 size 与 zIndex 字段。size 用于改变组件的默认尺寸 small，zIndex 设置弹框的初始 z-index（默认值：2000）。</span>
  <span class="nx">app</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">globalProperties</span><span class="p">.</span><span class="nx">$ELEMENT</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">size</span><span class="o">:</span> <span class="s1">&#39;medium&#39;</span><span class="p">,</span>
    <span class="c1">// zIndex: 2000 弹框zIndex默认值：2000</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>安装dayjs</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pnpm install dayjs
</pre></div>
</div>
</section>
<section id="id6">
<h3><a class="toc-backref" href="#id31">4.2 类型声明问题</a><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">src/main.ts</span></code></p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="p">{</span> <span class="nx">createApp</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
<span class="k">import</span> <span class="nx">App</span> <span class="nx">from</span> <span class="s1">&#39;./App.vue&#39;</span>
<span class="k">import</span> <span class="nx">router</span> <span class="nx">from</span> <span class="s1">&#39;./router/index&#39;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">createPinia</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;pinia&quot;</span>


<span class="c1">// 初始化css 重置css默认样式</span>
<span class="k">import</span> <span class="s1">&#39;normalize.css/normalize.css&#39;</span>
<span class="c1">// 全局 css</span>
<span class="k">import</span> <span class="s1">&#39;@/styles/index.scss&#39;</span>


<span class="c1">// element-plus</span>
<span class="k">import</span> <span class="nx">installElementPlus</span> <span class="nx">from</span> <span class="s1">&#39;./plugins/element&#39;</span>

<span class="k">import</span> <span class="s1">&#39;virtual:svg-icons-register&#39;</span>
<span class="k">import</span> <span class="nx">initSvgIcon</span> <span class="nx">from</span> <span class="s1">&#39;@/icons/index&#39;</span>

<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">createApp</span><span class="p">(</span><span class="nx">App</span><span class="p">)</span>


<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">router</span><span class="p">)</span>
   <span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">createPinia</span><span class="p">())</span>
   <span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">installElementPlus</span><span class="p">)</span>
   <span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">initSvgIcon</span><span class="p">)</span>
   <span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>创建自定义声明文件 如：src/runtime.d.ts 。
这里注意是src目录下创建，根据tsconfig.json
include选项里包含ts文件指定的都是src目录下，你也可以根据自己情况，在include选项里单独配置这个声明文件的路径。</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="s1">&#39;@vue/runtime-core&#39;</span>

<span class="c1">// 挂载到vue实例上</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ElMessageBox</span><span class="p">,</span> <span class="nx">ElMessage</span><span class="p">,</span> <span class="nx">ElNotification</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;element-plus&#39;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Size</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./plugins/element&#39;</span>

<span class="c1">// vue实例上挂载属性类型声明</span>
<span class="kr">declare</span> <span class="nx">module</span> <span class="s1">&#39;@vue/runtime-core&#39;</span> <span class="p">{</span>
  <span class="kd">interface</span> <span class="nx">ComponentCustomProperties</span> <span class="p">{</span>
    <span class="nx">$message</span>: <span class="kt">typeof</span> <span class="nx">ElMessage</span><span class="p">;</span>
    <span class="nx">$notify</span>: <span class="kt">typeof</span> <span class="nx">ElNotification</span><span class="p">;</span>
    <span class="nx">$confirm</span>: <span class="kt">typeof</span> <span class="nx">ElMessageBox</span><span class="p">.</span><span class="nx">confirm</span><span class="p">;</span>
    <span class="nx">$alert</span>: <span class="kt">typeof</span> <span class="nx">ElMessageBox</span><span class="p">.</span><span class="nx">alert</span><span class="p">;</span>
    <span class="nx">$prompt</span>: <span class="kt">typeof</span> <span class="nx">ElMessageBox</span><span class="p">.</span><span class="nx">prompt</span><span class="p">;</span>
    <span class="nx">$ELEMENT</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">size</span>:<span class="kt">Size</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="id7">
<h3><a class="toc-backref" href="#id32">4.3 组件中使用</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">src/views/dashborad/index.vue</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;Dashboard page&lt;/h1&gt;
    &lt;svg-icon icon-class=&quot;bug&quot;&gt;&lt;/svg-icon&gt;
    &lt;!-- icon-class svg图标名称 class-name 额外的自定义类名 @click绑定事件 --&gt;
    &lt;svg-icon icon-class=&quot;404&quot; class-name=&quot;custom-class&quot; @click=&quot;sayHi&quot;&gt;&lt;/svg-icon&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup  lang=&quot;ts&quot;&gt;
import { getCurrentInstance } from &#39;vue&#39;
const { proxy } = getCurrentInstance()!

const sayHi = () =&gt; {
    proxy?.$message.success(&#39;恭喜你，这是一条成功消息&#39;)
}
&lt;/script&gt;
&lt;style lang=&quot;scss&quot;&gt;
  .custom-class { // 自定义样式404
    font-size: 200px;
    color: green;
  }
&lt;/style&gt;
</pre></div>
</div>
<p>参考文献</p>
<blockquote>
<div><p><a class="reference external" href="https://www.yuque.com/brolly/hgg6ly/er92zn">https://www.yuque.com/brolly/hgg6ly/er92zn</a></p>
</div></blockquote>
<p>源码参考</p>
<blockquote>
<div><p><a class="reference external" href="https://gitee.com/zhufengpeixun/vue3-admin2">https://gitee.com/zhufengpeixun/vue3-admin2</a></p>
</div></blockquote>
</section>
</section>
<section id="id8">
<h2><a class="toc-backref" href="#id33"><span class="section-number">31.3.5. </span>参考文献</a><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p>vue3+ts+vite+element plus+axios+pinia框架搭建</p>
<p><a class="reference external" href="https://blog.csdn.net/qq_41296917/article/details/125050239">https://blog.csdn.net/qq_41296917/article/details/125050239</a></p>
<p><a class="reference external" href="https://www.cnblogs.com/haoxianrui/p/16090029.html">https://www.cnblogs.com/haoxianrui/p/16090029.html</a></p>
<p>vue3+vite2+TypeScript+Element plus+pinia搭建开发脚手架</p>
<p><a class="reference external" href="https://juejin.cn/post/7080017880602902558">https://juejin.cn/post/7080017880602902558</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="2.vue3%2Bts%E5%90%8E%E5%8F%B0%E7%B3%BB%E7%BB%9F.html" class="btn btn-neutral float-left" title="31.2. vue3+ts后台系统" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E4%B8%8E%E5%AE%9E%E8%B7%B5/index.html" class="btn btn-neutral float-right" title="Python测试开发入门与实践" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, huxiaojian.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>