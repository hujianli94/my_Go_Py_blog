# 遵循PEP 8风格指南

PEP 8非常详细地描述了如何编写清晰的Python代码，而且会随着Python语言的发展持续更新。

大家应该把完整指南阅读一遍（https://www.python.org/dev/peps/pep-0008）





**空白相关的建议**

Python中，空白（whitespace）在语法上相当重要。

Python程序员对空白字符的用法尤其在意，因为它们会影响代码的清晰程度。

在这方面，大家应该遵循以下几条建议。用空格（space）表示缩进，而不要用制表符（tab）。

* 和语法相关的每一层缩进都用4个空格表示。
* 每行不超过79个字符。对于占据多行的长表达式来说，除了首行之外的其余各行都应该在通常的缩进级别之上再加4个空格。
* 在同一份文件中，函数与类之间用两个空行隔开。
* 在同一个类中，方法与方法之间用一个空行隔开。
* 使用字典时，键与冒号之间不加空格，写在同一行的冒号和值之间应该加一个空格。
* 给变量赋值时，赋值符号的左边和右边各加一个空格，并且只加一个空格就好。
* 给变量的类型做注解（annotation）时，不要把变量名和冒号隔开，但在类型信息前应该有一个空格。





**与命名有关的建议**

* 函数、变量及属性用小写字母来拼写，各单词之间用下划线相连，例如：lowercase_underscore。
* 受保护的实例属性，用一个下划线开头，例如：_leading_underscore。
* 私有的实例属性，用两个下划线开头，例如：__double_leading_underscore。
* 类（包括异常）命名时，每个单词的首字母均大写，例如：CapitalizedWord。
* 模块级别的常量，所有字母都大写，各单词之间用下划线相连，例如：ALL_CAPS。
* 类中的实例方法，应该把第一个参数命名为self，用来表示该对象本身。类方法的第一个参数，应该命名为cls，用来表示这个类本身。



**与表达式和语句有关的建议**

* 采用行内否定，即把否定词直接写在要否定的内容前面，而不要放在整个表达式的前面，例如应该写if a is not b，而不是if not a is b。





* 不要通过长度判断容器或序列是不是空的，例如不要通过if len(somelist) ==0判断somelist是否为[]或''等空值，而是应该采用if not somelist这样的写法来判断，因为Python会把空值自动评估为False。如果要判断容器或序列里面有没有内容（比如要判断somelist是否为[1]或'hi'这样非空的值），也不应该通过长度来判断，而是应该采用if somelist语句，因为Python会把非空的值自动判定为True。



* 不要把if语句、for循环、while循环及except复合语句挤在一行。应该把这些语句分成多行来写，这样更加清晰。如果表达式一行写不下，可以用括号将其括起来，而且要适当地添加换行与缩进以便于阅读。多行的表达式，应该用括号括起来，而不要用\符号续行。





**与引入有关的建议**

* import语句（含from x import y）总是应该放在文件开头。引入模块时，总是应该使用绝对名称，而不应该根据当前模块路径来使用相对名称。例如，要引入bar包中的foo模块，应该完整地写出from bar import foo，即便当前路径为bar包里，也不应该简写为import foo。如果一定要用相对名称来编写import语句，那就应该明确地写成：from . import foo。
* 文件中的import语句应该按顺序划分成三个部分：首先引入标准库里的模块，然后引入第三方模块，最后引入自己的模块。属于同一个部分的import语句按字母顺序排列。



提示Pylint（https://www.pylint.org/）是一款流行的Python源码静态分析工具。它可以自动检查受测代码是否符合PEP 8风格指南，而且还能找出Python程序里的许多种常见错误。很多IDE（集合成开发环境）与编辑器，都包含这样的linting工具或者支持类似的插件。





> 编写Python代码时，总是应该遵循PEP 8风格指南。与广大Python开发者采用同一套代码风格，可以使项目更利于多人协作。
>
> 采用一致的风格编写代码，代码的后续修改更容易。

