# TypeScriptå…¥é—¨

## 1.Typescriptæ˜¯ä»€ä¹ˆ

> å¼•ç”¨å…¶å®˜ç½‘ä¸Šçš„è¯ï¼š

TypeScriptæ˜¯JavaScriptçš„è¶…é›†ï¼Œå¯ä»¥ç¼–è¯‘æˆçº¯JavaScriptã€‚TypeScriptå¯ä»¥åœ¨ä»»ä½•æµè§ˆå™¨ã€ä»»ä½•è®¡ç®—æœºå’Œä»»ä½•æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œï¼Œå¹¶ä¸”æ˜¯å¼€æºçš„ã€‚





## 2.ä¸ºä»€ä¹ˆè¦ç”¨Typescript

**ä¼˜ç‚¹**ï¼š

1. æä¾›äº†ç±»å‹ç³»ç»Ÿå’Œå¯¹ES6çš„æ”¯æŒ
2. TypeScriptå¢åŠ äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§
3. TypeScriptéå¸¸åŒ…å®¹
4. TypeScriptæ‹¥æœ‰æ´»è·ƒçš„ç¤¾åŒº



**ç¼ºç‚¹**ï¼š

1. æœ‰ä¸€å®šçš„å­¦ä¹ æˆæœ¬ï¼Œæœ‰ä¸€äº›æ–°çš„æ¦‚å¿µï¼Œå¦‚ï¼šæ¥å£ï¼ˆInterfaceï¼‰ã€æ³›å‹ï¼ˆGenericsï¼‰ã€ç±»ï¼ˆClassesï¼‰ã€æšä¸¾ç±»å‹ï¼ˆEnumsï¼‰ç­‰
2. çŸ­æœŸå¯èƒ½å¢åŠ ä¸€äº›å¼€å‘æˆæœ¬ï¼Œéœ€è¦ç¼–å†™ç±»å‹çš„å®šä¹‰ï¼Œèƒ½å‡å°‘é•¿æœŸç»´æŠ¤çš„æˆæœ¬
3. éœ€è¦é›†æˆåˆ°æ„å»ºå·¥å…·
4. å¯èƒ½å’Œä¸€äº›åº“çš„ç»“åˆä¸æ˜¯å¾ˆå®Œç¾



ç›¸å¯¹äºä¼˜ç‚¹æ¥è¯´ï¼Œè¿™äº›ç¼ºç‚¹éƒ½æ˜¯å¯ä»¥å…‹æœçš„ï¼Œè¦æ‹¥æŠ±å˜åŒ–ï¼Œé¢å‘æœªæ¥ã€‚



## 3.JavaScript VS TypeScript

2021å¹´ç¼–ç¨‹è¯­è¨€æµè¡Œåº¦ç»Ÿè®¡ä¸Šï¼Œå‘ç”Ÿäº†æœ‰è¶£çš„äº‹æƒ…ï¼Œå¸¸å¹´éœ¸æ¦œçš„ JavaScript è¢« PHPï¼ˆæ‹é»„ç‰‡ğŸ˜³ï¼‰ å–ä»£äº†ï¼Œé™¤äº† PHP çš„å¼ºåŠ¿ä¹‹å¤–ï¼Œæœ‰ä¸€éƒ¨åˆ†äººä» JavaScript è½¬åˆ°äº† TypeScriptï¼å› æ­¤ TypesScript çš„å ç”¨ç‡åœ¨é€å¹´æå‡ã€‚



è™½ç„¶æœ¬è´¨ä¸Šä»–ä»¬éƒ½æ˜¯å®ç°äº† ECMAScript æ ‡å‡†çš„è¯­è¨€ï¼Œä½† TS å¼•å…¥äº†ç±»å‹æ£€æµ‹å¹¶ä¸”ä¸°å¯Œäº† JSï¼Œç›¸å½“äºæ˜¯ JS çš„è¶…é›†ï¼Œå°±è¿ Vue3 ä¹Ÿæ˜¯ç”¨ TS å†™çš„ã€‚TS ä¸çŸ¥ä¸è§‰åœ¨å‰ç«¯é¢†åŸŸä¸­æˆäº†æ ‡é…çš„å­˜åœ¨ã€‚



ä½¿ç”¨ TS èƒ½å¯¹æˆ‘ä»¬çš„ä»£ç èµ·åˆ°çº¦æŸä½œç”¨ï¼ŒåŒæ—¶å‡å°‘æˆ‘ä»¬çš„å¤±è¯¯ç‡ï¼Œè®©æ›´å¤šéå—è¿«æ€§çš„é—®é¢˜åœ¨ç¨‹åºè¿è¡Œä¹‹å‰å¾—ä»¥è§£å†³ã€‚åŒæ—¶é…åˆ IDE æ™ºèƒ½è¯†åˆ«ï¼Œä¸ºæˆ‘ä»¬ä»£ç è‡ªåŠ¨è¡¥å…¨ï¼Œå‡å°‘å¼€å‘çš„å¿ƒæ™ºè´Ÿæ‹…ã€‚



ğŸ·ï¸**ç»“è®º**ï¼šé€‰ç”¨ TypeScript ä½œä¸ºæœªæ¥å‰ç«¯çš„æ ‡é…ã€‚



## 4.TSå®‰è£…

```
$ npm install -g typescript
$ tsc -V
Version 4.1.5
```



> typescriptæ¼”ç»ƒåœº

https://www.typescriptlang.org/zh/play

## 5.æ‰‹åŠ¨ç¼–è¯‘ä»£ç 

æˆ‘ä»¬ä½¿ç”¨äº† .ts æ‰©å±•åï¼Œä½†æ˜¯è¿™æ®µä»£ç ä»…ä»…æ˜¯ TypeScriptï¼Œå¹¶ä¸èƒ½åœ¨æµè§ˆå™¨ç›´æ¥è¿è¡Œï¼Œéœ€è¦å°†TypeScriptè½¬ä¸ºJavaScriptã€‚

åœ¨å‘½ä»¤è¡Œä¸Šï¼Œè¿è¡Œ TypeScript ç¼–è¯‘å™¨ï¼š

```
tsc helloworld.ts
```

è¾“å‡ºç»“æœä¸ºä¸€ä¸ª `helloworld.js` æ–‡ä»¶ï¼Œå®ƒåŒ…å«äº†å’Œè¾“å…¥æ–‡ä»¶ä¸­ç›¸åŒçš„ JavaScript ä»£ç ã€‚



## 6.TSåŸºç¡€ç±»å‹

**æ³¨æ„ç‚¹**

1. å˜é‡å®šä¹‰æ ¼å¼ä¸º let å˜é‡å:å˜é‡ç±»å‹ = å˜é‡å€¼
2. å˜é‡å¼€å§‹å®šä¹‰çš„ç±»å‹ï¼ŒåæœŸä¸èƒ½æŠŠå…¶ä»–ç±»å‹çš„å€¼èµ‹å€¼ç»™å®ƒ

### 6.1 å¸ƒå°”å€¼(boolean)

```typescript
(() => {
    let flag:boolean = true
    console.log(flag)
    flag = false
    console.log(flag)
})()

// è¾“å‡ºç»“æœ
// true
// false
```

### 6.2 æ•°å­—(number)

```typescript
(() => {
    let a1: number = 10
    let a2: number = 0b1010 //äºŒè¿›åˆ¶
    let a3: number = 0o12  //å…«è¿›åˆ¶
    let a4: number = 0xa  //åå…­è¿›åˆ¶
    console.log(a1, a2, a3, a4)
})()
// è¾“å‡ºç»“æœ
// 10 10 10 10
```



### 6.3 å­—ç¬¦ä¸²(string)

```typescript
(() => {
    let str1:string = 'å¥½å¥½å­¦ä¹ '
    console.log(str1)
    let str2:string = str1 + 'å¤©å¤©è€ƒ'
    console.log(str2)
    let num:number = 100
    console.log(str2+num)
})()
// è¾“å‡ºç»“æœ
// å¥½å¥½å­¦ä¹ 
// å¥½å¥½å­¦ä¹ å¤©å¤©è€ƒ
// å¥½å¥½å­¦ä¹ å¤©å¤©è€ƒ100
```



### 6.4 undefinedå’Œnull

```typescript
(() => {
    let undef: undefined = undefined
    console.log(undef)
    let nll: null = null
    console.log(nll)
    // undefinedå’Œnulléƒ½å¯ä»¥ä½œä¸ºå…¶ä»–ç±»å‹çš„å­ç±»å‹ï¼ˆæŠŠundefinedå’Œnullèµ‹å€¼ç»™å…¶ä»–ç±»å‹ï¼‰
    let num: number = undefined
    console.log(num)
    let str: string = null
    console.log(str)
})()
// è¾“å‡ºç»“æœ
// undefined
// null
// undefined
// null
```



### 6.5 æ•°ç»„

> åˆ—è¡¨ä¸­å…ƒç´ çš„æ•°æ®ç±»å‹å¿…é¡»å’Œå®šä¹‰çš„æ•°æ®ç±»å‹ä¸€è‡´ï¼Œå¦åˆ™æŠ¥é”™

```typescript
(() => {
    // æ™®é€šå®šä¹‰
    let arr1: number[] = [1, 2, 3]
    console.log(arr1)
    // æ³›å‹å®šä¹‰
    let arr2: Array<number> = [10, 20, 30]
    console.log(arr2)
    console.log(arr2[0])
})()

// [1, 2, 3] 
// [10, 20, 30] 
// 10 
```



### 6.6 å…ƒç»„

> å¦‚æœæƒ³å­˜å‚¨ä¸åŒç±»å‹çš„å€¼åˆ°ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œä½¿ç”¨å…ƒç»„ã€‚åœ¨å®šä¹‰å…ƒç»„çš„æ—¶å€™ï¼Œç±»å‹å’Œä¸ªæ•°å°±å·²ç»é™å®šäº†ï¼Œèµ‹å€¼æ—¶ï¼Œæ•°æ®ç±»å‹å’Œä¸ªæ•°ä¸å®šä¹‰çš„ä¸€è‡´

```typescript
(() => {
    let tup1: [number,string,boolean] = [1, '111', true]
    console.log(tup1)
    console.log(tup1[0].toFixed(2))
    console.log(tup1[1].split(''))
})()

// [1, "111", true] 
// "1.00" 
// ["1", "1", "1"] 
```



### 6.7 æšä¸¾

> å­˜å‚¨çš„å€¼åœ¨ç¡®å®šçš„æƒ…å†µä¸‹ä½¿ç”¨ï¼Œæ¯”å¦‚ç”·å¥³ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæšä¸¾é‡Œé¢çš„æ¯ä¸ªå…ƒç´ éƒ½æœ‰è‡ªå·±çš„ç¼–å·å€¼ï¼Œé»˜è®¤ä»0å¼€å§‹é€’å¢ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šç¼–å·å€¼

```typescript
(() => {
    enum Level1 {
        good,
        general,
        bad
    }

    console.log(Level1.good, Level1.general, Level1.bad)

    enum Level2 {
        good = 10,
        general = 20,
        bad = 30
    }

    console.log(Level2.good, Level2.general, Level2.bad)
})()
// è¾“å‡ºç»“æœ
// 0 1 2
// 10 20 30
```

### 6.8 any

- å½“ä¸€ä¸ªæ•°ç»„ä¸­å­˜å‚¨æ•°æ®çš„ç±»å‹å’Œæ•°é‡ä¸ç¡®å®šæ—¶ï¼Œå¯ä»¥ä½¿ç”¨anyæ¥å®šä¹‰æ•°ç»„
- ä½†æ˜¯åœ¨è°ƒç”¨æ•°ç»„å…ƒç´ æ—¶ï¼Œä¸ä¼šå¯¹ç±»å‹è¿›è¡Œæ£€æµ‹ï¼ˆå¼€å‘æç¤ºï¼‰

```
(() => {
    let arr1 = 100
    console.log(arr1)
    let arr2: any[] = [123, 'qwer', true]
    console.log(arr2)
    console.log(arr2[0].split(''))
})()
```



### 6.9 void

> åœ¨å£°æ˜å‡½æ•°çš„æ—¶å€™ï¼Œå°æ‹¬å·åé¢ä½¿ç”¨:voidï¼Œä»£è¡¨è¿™ä¸ªå‡½æ•°æ²¡æœ‰ä»»ä½•è¿”å›å€¼

```typescript
(() => {
    function say():void{
        console.log('hello')
    }
    console.log(say())
})()
// è¾“å‡ºç»“æœ
// hello
// undefined
```



### 6.10 object

> å’Œjså¯¹è±¡ç”¨æ³•ç±»ä¼¼ï¼Œå¤šäº†ç±»å‹æ£€æµ‹

```typescript
(() => {
    function getObj(obj:object):object{
        console.log(obj)
        return {
            name:'æå››',
            age:20
        }
    }
    console.log(getObj({name:'å¼ ä¸‰',age:18}))
})()
```



### 6.11 è”åˆç±»å‹

> å€¼çš„ç±»å‹ä¸ç¡®å®šæ—¶ï¼Œå¯ä»¥ä½¿ç”¨|å°†å¤šä¸ªå¯èƒ½çš„ç±»å‹å†™åˆ°ä¸€èµ·ï¼Œè¡¨ç¤ºå–å€¼å¯ä»¥ä¸ºå¤šç§å…¶ä¸­ä¸€ç§ç±»å‹

- ä¾‹å¦‚ï¼šå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå‚æ•°ç±»å‹ä¸ºæ•°å­—æˆ–å­—ç¬¦ä¸²

```typescript
(() => {
    function getValue(value:number|string):string{
        return value.toString()
    }
    console.log(getValue(123))
    console.log(getValue('abc'))
})()
// è¾“å‡ºç»“æœ
// 123
// abc
```



### 6.12 ç±»å‹æ–­è¨€

> ä½¿ç”¨è”åˆç±»å‹æ—¶ï¼Œç¼–è¯‘å™¨å¹¶ä¸çŸ¥é“å€¼å…·ä½“æ˜¯ä»€ä¹ˆç±»å‹ï¼Œè°ƒç”¨ç›¸å…³ç±»å‹çš„æ–¹æ³•æ—¶ä¼šæŠ¥é”™ï¼Œæ­¤æ—¶é€šè¿‡ç±»å‹æ–­è¨€è¿™ç§æ–¹å¼å¯ä»¥å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œâ€œç›¸ä¿¡æˆ‘ï¼Œæˆ‘çŸ¥é“è‡ªå·±åœ¨å¹²ä»€ä¹ˆâ€ã€‚ 

- è¯­æ³•

æ–¹å¼ä¸€: <ç±»å‹>å€¼



æ–¹å¼äºŒ: å€¼ as ç±»å‹  tsxä¸­åªèƒ½ç”¨è¿™ç§æ–¹å¼

- éœ€æ±‚: å®šä¹‰ä¸€ä¸ªå‡½æ•°å¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…æ•°å€¼æ•°æ®çš„é•¿åº¦

```typescript
(() => {
    function getLength(x: number | string) {
        if ((<string>x).length) {
            // æ˜¯å¦å­˜åœ¨lengthæ–¹æ³•ï¼Œå¦‚æœæ˜¯stringç±»å‹ï¼Œæ¡ä»¶ä¸ºtrue
            return (x as string).length
        } else {
            return x.toString().length
        }
    }
    console.log(getLength('abcd'))
    console.log(getLength(1234))
})()
// è¾“å‡ºç»“æœ
// 4
// 4
```



### 6.13 ç±»å‹æ¨æ–­

> TSä¼šåœ¨æ²¡æœ‰æ˜ç¡®çš„æŒ‡å®šç±»å‹çš„æ—¶å€™æ¨æµ‹å‡ºä¸€ä¸ªç±»å‹

- æœ‰ä¸‹é¢2ç§æƒ…å†µ

1. å®šä¹‰å˜é‡æ—¶èµ‹å€¼äº†, æ¨æ–­ä¸ºå¯¹åº”çš„ç±»å‹. 
2. å®šä¹‰å˜é‡æ—¶æ²¡æœ‰èµ‹å€¼, æ¨æ–­ä¸ºanyç±»å‹

```typescript
/* å®šä¹‰å˜é‡æ—¶èµ‹å€¼äº†, æ¨æ–­ä¸ºå¯¹åº”çš„ç±»å‹ */
let b9 = 123 // number
// b9 = 'abc' // error

/* å®šä¹‰å˜é‡æ—¶æ²¡æœ‰èµ‹å€¼, æ¨æ–­ä¸ºanyç±»å‹ */
let b10  // anyç±»å‹
b10 = 123
b10 = 'abc'
```



## 7. æ¥å£

> TypeScript çš„æ ¸å¿ƒåŸåˆ™ä¹‹ä¸€æ˜¯å¯¹å€¼æ‰€å…·æœ‰çš„ç»“æ„è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚æˆ‘ä»¬ä½¿ç”¨æ¥å£ï¼ˆInterfacesï¼‰æ¥å®šä¹‰å¯¹è±¡çš„ç±»å‹ã€‚
>
> æ¥å£æ˜¯å¯¹è±¡çš„çŠ¶æ€(å±æ€§)å’Œè¡Œä¸º(æ–¹æ³•)çš„æŠ½è±¡(æè¿°)



### 7.1 æ¥å£å®šä¹‰ä¸ä½¿ç”¨

- æ¥å£ç±»å‹çš„å¯¹è±¡

å¤šäº†æˆ–è€…å°‘äº†å±æ€§æ˜¯ä¸å…è®¸çš„

å¯é€‰å±æ€§: ?

åªè¯»å±æ€§: readonly



- éœ€æ±‚: åˆ›å»ºäººçš„å¯¹è±¡, éœ€è¦å¯¹äººçš„å±æ€§è¿›è¡Œä¸€å®šçš„çº¦æŸ

idæ˜¯numberç±»å‹, å¿…é¡»æœ‰, åªè¯»çš„

nameæ˜¯stringç±»å‹, å¿…é¡»æœ‰

ageæ˜¯numberç±»å‹, å¿…é¡»æœ‰

sexæ˜¯stringç±»å‹, å¯ä»¥æ²¡æœ‰

```typescript
(() => {
  // å®šä¹‰äººçš„æ¥å£ï¼Œæ”¹æ¥å£ä½œä¸ºpersonå¯¹è±¡çš„ç±»å‹ä½¿ç”¨ï¼Œé™å®šè¯¥å¯¹è±¡ä¸­çš„å±æ€§æ•°æ®
  interface IPerson {
    // idæ˜¯åªè¯»å±æ€§
    readonly id: number
    name: string
    age: number
    // sexå¯ä»¥ä¸å­˜åœ¨
    sex?: string
  }
  // å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œç±»å‹ä¸ºå‰é¢å®šä¹‰çš„æ¥å£IPerson
  const person1: IPerson = {
    id: 1,
    name: 'tom',
    age: 20,
    sex: 'ç”·'
  }
  console.log(person1)
})()
// æ‰§è¡Œç»“æœ
// {id: 1, name: "tom", age: 20, sex: "ç”·"}
```



### 7.2 å‡½æ•°ç±»å‹

>ä¸ºäº†ä½¿ç”¨æ¥å£è¡¨ç¤ºå‡½æ•°ç±»å‹ï¼Œéœ€è¦ç»™æ¥å£å®šä¹‰ä¸€ä¸ªè°ƒç”¨ç­¾å
>
>å®ƒå°±åƒæ˜¯ä¸€ä¸ªåªæœ‰å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹çš„å‡½æ•°å®šä¹‰ï¼Œå‚æ•°åˆ—è¡¨ä¸­çš„æ¯ä¸ªå‚æ•°éƒ½éœ€è¦åå­—å’Œç±»å‹

```typescript
(() => {
  // å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œä½œä¸ºå‡½æ•°çš„ç±»å‹ä½¿ç”¨
  interface SearchFunc {
    (source: string, subString: string): boolean
  }
  // å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç±»å‹ä¸ºå‰é¢å®šä¹‰çš„æ¥å£IPerson
  const mySearch: SearchFunc = function (source: string, sub: string): boolean {
    // åœ¨sourceå­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨subå­—ç¬¦ä¸²
    return source.search(sub) > -1
  }
  // è°ƒç”¨å‡½æ•°
  console.log(mySearch('abcd', 'bc'))
})()
// è¾“å‡ºç»“æœ
// true
```



### 7.3 ç±»ç±»å‹

> ä¸ C# æˆ– Java é‡Œæ¥å£çš„åŸºæœ¬ä½œç”¨ä¸€æ ·ï¼ŒTypeScript ä¹Ÿèƒ½å¤Ÿç”¨å®ƒæ¥æ˜ç¡®çš„å¼ºåˆ¶ä¸€ä¸ªç±»å»ç¬¦åˆæŸç§å¥‘çº¦ã€‚
>
> æ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œåœ¨ç±»ä¸­éƒ½è¦å®ç°

#### ç±»å®ç°æ¥å£

```typescript
(() => {
  // å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œä½œä¸ºç±»çš„ç±»å‹ä½¿ç”¨
  interface IFly {
    // è¯¥æ–¹æ³•æ²¡æœ‰ä»»ä½•çš„å®ç°ï¼ˆæ–¹æ³•ä¸­ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼‰
    fly()
  }

  // å®šä¹‰ä¸€ä¸ªç±»ï¼Œè¿™ä¸ªç±»çš„ç±»å‹å°±æ˜¯ä¸Šé¢å®šä¹‰çš„æ¥å£ï¼ˆIFlyæ¥å£çº¦æŸäº†å½“å‰è¿™ä¸ªç±»ï¼‰
  class Person implements IFly {
    // å®ç°æ¥å£ä¸­çš„æ–¹æ³•
    fly() {
      console.log('èµ·é£äº†')
    }
  }

  // å®ä¾‹åŒ–å¯¹è±¡
  const person = new Person()
  person.fly()
})()
// è¾“å‡ºç»“æœ
// èµ·é£äº†
```

#### ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£

```typescript
(() => {
  // å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œä½œä¸ºç±»çš„ç±»å‹ä½¿ç”¨
  interface IFly {
    // è¯¥æ–¹æ³•æ²¡æœ‰ä»»ä½•çš„å®ç°ï¼ˆæ–¹æ³•ä¸­ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼‰
    fly()
  }

// å®šä¹‰å¦ä¸€ä¸ªæ¥å£ï¼Œä½œä¸ºç±»çš„ç±»å‹ä½¿ç”¨
  interface ISay {
    // è¯¥æ–¹æ³•æ²¡æœ‰ä»»ä½•çš„å®ç°ï¼ˆæ–¹æ³•ä¸­ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼‰
    say()
  }

  // å®šä¹‰ä¸€ä¸ªç±»ï¼Œè¿™ä¸ªç±»çš„ç±»å‹å°±æ˜¯ä¸Šé¢å®šä¹‰çš„æ¥å£ï¼ˆIFlyæ¥å£çº¦æŸäº†å½“å‰è¿™ä¸ªç±»ï¼‰
  class Person implements IFly, ISay {
    // å®ç°æ¥å£ä¸­çš„æ–¹æ³•
    fly() {
      console.log('èµ·é£äº†')
    }

    say() {
      console.log('è¯´è¯äº†')
    }
  }

  // å®ä¾‹åŒ–å¯¹è±¡
  const person = new Person()
  person.fly()
  person.say()
})()
// è¾“å‡ºç»“æœ
// èµ·é£äº†
// è¯´è¯äº†
```

#### æ¥å£ç»§æ‰¿æ¥å£

```typescript
(() => {
  // å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œä½œä¸ºç±»çš„ç±»å‹ä½¿ç”¨
  interface IFly {
    // è¯¥æ–¹æ³•æ²¡æœ‰ä»»ä½•çš„å®ç°ï¼ˆæ–¹æ³•ä¸­ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼‰
    fly()
  }

  // å®šä¹‰å¦ä¸€ä¸ªæ¥å£ï¼Œä½œä¸ºç±»çš„ç±»å‹ä½¿ç”¨
  interface ISay {
    // è¯¥æ–¹æ³•æ²¡æœ‰ä»»ä½•çš„å®ç°ï¼ˆæ–¹æ³•ä¸­ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼‰
    say()
  }

  // å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œå®ƒç»§æ‰¿äº†å‰é¢ä¸¤ä¸ªæ¥å£
  interface IFlyAndISay extends IFly, ISay {
  }

  // å®šä¹‰ä¸€ä¸ªç±»ï¼Œè¿™ä¸ªç±»çš„ç±»å‹å°±æ˜¯ä¸Šé¢å®šä¹‰çš„ç»§æ‰¿æ¥å£
  class Person implements IFlyAndISay {
    // å®ç°æ¥å£ä¸­çš„æ–¹æ³•
    fly() {
      console.log('èµ·é£äº†')
    }

    say() {
      console.log('è¯´è¯äº†')
    }
  }

  // å®ä¾‹åŒ–å¯¹è±¡
  const person = new Person()
  person.fly()
  person.say()
})()
// è¾“å‡ºç»“æœ
// èµ·é£äº†
// è¯´è¯äº†
```



## 8.ç±»

### åŸºæœ¬ä½¿ç”¨

```typescript
(() => {
  class Person {
    // å®šä¹‰å±æ€§
    name: string
    age: number

    // æ„é€ æ–¹æ³•ï¼Œå®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™ï¼Œç›´æ¥å¯¹å±æ€§çš„å€¼è¿›è¡Œåˆå§‹åŒ–
    constructor(name: string = 'å¼ ä¸‰', age: number = 18) {
      // æ›´æ–°å¯¹è±¡ä¸­çš„å±æ€§æ•°æ®
      this.name = name
      this.age = age
    }

    // å®ä¾‹æ–¹æ³•
    sayHi(message: string): string {
      return 'å¤§å®¶å¥½ï¼Œæˆ‘å«' + this.name + 'æˆ‘ä»Šå¹´' + this.age + 'å²äº†ï¼Œæˆ‘å¯¹å¤§å®¶è¯´ï¼š' + message
    }
  }

  // åˆ›å»ºç±»çš„å®ä¾‹ï¼Œä½¿ç”¨é»˜è®¤å±æ€§
  const person1 = new Person()
  // è°ƒç”¨å®ä¾‹çš„æ–¹æ³•
  console.log(person1.sayHi('ä½ å¥½å•Š'))
  // åˆ›å»ºç±»çš„å®ä¾‹ï¼Œä½¿ç”¨è‡ªå®šä¹‰å±æ€§
  const person2 = new Person('æå››', 20)
  // è°ƒç”¨å®ä¾‹çš„æ–¹æ³•
  console.log(person2.sayHi('hello'))
})()
// è¾“å‡ºç»“æœ
// å¤§å®¶å¥½ï¼Œæˆ‘å«å¼ ä¸‰æˆ‘ä»Šå¹´18å²äº†ï¼Œæˆ‘å¯¹å¤§å®¶è¯´ï¼šä½ å¥½å•Š
// å¤§å®¶å¥½ï¼Œæˆ‘å«æå››æˆ‘ä»Šå¹´20å²äº†ï¼Œæˆ‘å¯¹å¤§å®¶è¯´ï¼šhello
```

### ç»§æ‰¿

```typescript
(() => {
  // å®šä¹‰ä¸€ä¸ªçˆ¶ç±»ï¼ˆè¶…ç±»ï¼‰
  class Person {
    // å®šä¹‰å±æ€§
    name: string
    age: number

    // æ„é€ æ–¹æ³•ï¼Œå®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™ï¼Œç›´æ¥å¯¹å±æ€§çš„å€¼è¿›è¡Œåˆå§‹åŒ–
    constructor(name: string, age: number) {
      // æ›´æ–°å¯¹è±¡ä¸­çš„å±æ€§æ•°æ®
      this.name = name
      this.age = age
    }

    // å®ä¾‹æ–¹æ³•
    sayHi(message: string): string {
      return 'å¤§å®¶å¥½ï¼Œæˆ‘å«' + this.name + 'æˆ‘ä»Šå¹´' + this.age + 'å²äº†ï¼Œæˆ‘å¯¹å¤§å®¶è¯´ï¼š' + message
    }
  }

  // å®šä¹‰ä¸€ä¸ªå­ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰
  class Student extends Person {
    // è°ƒç”¨çˆ¶ç±»ä¸­çš„æ„é€ å‡½æ•°
    constructor(name: string, age: number) {
      super(name,age);
    }

    // ç»§æ‰¿çˆ¶ç±»ä¸­çš„æ–¹æ³•
    sayHi(message: string): string {
      return super.sayHi(message);
    }
  }
  // åˆ›å»ºç±»çš„å®ä¾‹ï¼Œä½¿ç”¨è‡ªå®šä¹‰å±æ€§
  const student = new Student('æå››', 20)
  // è°ƒç”¨å®ä¾‹çš„æ–¹æ³•
  console.log(student.sayHi('hello'))
})()
// è¾“å‡ºç»“æœ
// å¤§å®¶å¥½ï¼Œæˆ‘å«æå››æˆ‘ä»Šå¹´20å²äº†ï¼Œæˆ‘å¯¹å¤§å®¶è¯´ï¼šhello
```

### å¤šæ€

> çˆ¶ç±»å‹çš„å¼•ç”¨æŒ‡å‘äº†å­ç±»å‹çš„å¯¹è±¡ï¼Œä¸åŒç±»å‹çš„å¯¹è±¡é’ˆå¯¹ç›¸åŒçš„æ–¹æ³•äº§ç”Ÿäº†ä¸åŒçš„è¡Œä¸º

```typescript
(() => {
  // å®šä¹‰ä¸€ä¸ªçˆ¶ç±»ï¼ˆè¶…ç±»ï¼‰
  class Person {
    // å®šä¹‰å±æ€§
    name: string

    // æ„é€ æ–¹æ³•ï¼Œå®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™ï¼Œç›´æ¥å¯¹å±æ€§çš„å€¼è¿›è¡Œåˆå§‹åŒ–
    constructor(name: string) {
      // è·Ÿé‹å¯¹è±¡ä¸­çš„å±æ€§æ•°æ®
      this.name = name
    }

    // å®ä¾‹æ–¹æ³•
    run(num: number = 0): string {
      return 'å¤§å®¶å¥½ï¼Œæˆ‘å«' + this.name + 'æˆ‘è·‘äº†' + num + 'ç±³'
    }
  }

  // å®šä¹‰ç¬¬ä¸€ä¸ªå­ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰
  class Student extends Person {
    // è°ƒç”¨çˆ¶ç±»ä¸­çš„æ„é€ å‡½æ•°
    constructor(name: string) {
      super(name);
    }

    // é‡å†™çˆ¶ç±»ä¸­çš„æ–¹æ³•
    run(num: number = 5): string {
      return 'å¤§å®¶å¥½ï¼Œæˆ‘å«' + this.name + 'æˆ‘è·‘äº†' + num + 'ç±³'
    }
  }

  // å®šä¹‰ç¬¬äºŒä¸ªå­ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰
  class Teacher extends Person {
    // è°ƒç”¨çˆ¶ç±»ä¸­çš„æ„é€ å‡½æ•°
    constructor(name: string) {
      super(name);
    }

    // é‡å†™çˆ¶ç±»ä¸­çš„æ–¹æ³•
    run(num: number = 10): string {
      return 'å¤§å®¶å¥½ï¼Œæˆ‘å«' + this.name + 'æˆ‘è·‘äº†' + num + 'ç±³'
    }
  }

  // åˆ›å»ºçˆ¶ç±»çš„å®ä¾‹
  const person1: Person = new Person('å¼ ä¸‰')
  // è°ƒç”¨å®ä¾‹çš„æ–¹æ³•
  console.log(person1.run())
  // åˆ›å»ºå­ç±»1çš„å¯¹è±¡
  const student1 = new Student('æå››')
  console.log(student1.run())
  // åˆ›å»ºå­ç±»2çš„å¯¹è±¡
  const teacher1 = new Teacher('ç‹äº”')
  console.log(teacher1.run())
  // åˆ›å»ºçˆ¶ç±»çš„å®ä¾‹
  const person2: Person = new Person('å¼ ä¸‰')
  // è°ƒç”¨å®ä¾‹çš„æ–¹æ³•
  console.log(person2.run())
  // ä½¿ç”¨çˆ¶ç±»å‹åˆ›å»ºå­ç±»1çš„å¯¹è±¡
  const student2: Person = new Student('æå››')
  console.log(student2.run())
  // åˆ›å»ºä½¿ç”¨çˆ¶ç±»å‹åˆ›å»ºå­ç±»2çš„å¯¹è±¡
  const teacher2: Person = new Teacher('ç‹äº”')
  console.log(teacher2.run())

  // å®šä¹‰å‡½æ•°ï¼Œè¯¥å‡½æ•°éœ€è¦ä¼ å…¥å‚æ•°æ˜¯Personç±»å‹çš„
  function showRun(per: Person):void{
    console.log(per.run())
  }
  showRun(person2)
  showRun(student2)
  showRun(teacher2)
})()
// è¾“å‡ºç»“æœ
// å¤§å®¶å¥½ï¼Œæˆ‘å«å¼ ä¸‰æˆ‘è·‘äº†0ç±³
// å¤§å®¶å¥½ï¼Œæˆ‘å«æå››æˆ‘è·‘äº†5ç±³
// å¤§å®¶å¥½ï¼Œæˆ‘å«ç‹äº”æˆ‘è·‘äº†10ç±³
// å¤§å®¶å¥½ï¼Œæˆ‘å«å¼ ä¸‰æˆ‘è·‘äº†0ç±³
// å¤§å®¶å¥½ï¼Œæˆ‘å«æå››æˆ‘è·‘äº†5ç±³
// å¤§å®¶å¥½ï¼Œæˆ‘å«ç‹äº”æˆ‘è·‘äº†10ç±³
// å¤§å®¶å¥½ï¼Œæˆ‘å«å¼ ä¸‰æˆ‘è·‘äº†0ç±³
// å¤§å®¶å¥½ï¼Œæˆ‘å«æå››æˆ‘è·‘äº†5ç±³
// å¤§å®¶å¥½ï¼Œæˆ‘å«ç‹äº”æˆ‘è·‘äº†10ç±³
```



### ä¿®é¥°ç¬¦

> ä¸»è¦ç”¨äºæè¿°ç±»ä¸­çš„æˆå‘˜ï¼ˆå±æ€§ï¼Œæ„é€ å‡½æ•°ï¼Œæ–¹æ³•ï¼‰çš„å¯è®¿é—®æ€§ï¼Œé»˜è®¤æ˜¯pubileï¼Œå…¬å…±çš„ï¼Œä»»ä½•ä½ç½®éƒ½å¯ä»¥è®¿é—®ç±»ä¸­çš„æˆå‘˜

### public (é»˜è®¤å€¼, å…¬å¼€çš„å¤–éƒ¨ä¹Ÿå¯ä»¥è®¿é—®)

```typescript
(() => {
  // å®šä¹‰ä¸€ä¸ªçˆ¶ç±»ï¼ˆè¶…ç±»ï¼‰
  class Person {
    // å®šä¹‰å±æ€§
    public name: string

    // æ„é€ æ–¹æ³•ï¼Œå®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™ï¼Œç›´æ¥å¯¹å±æ€§çš„å€¼è¿›è¡Œåˆå§‹åŒ–
    public constructor(name: string) {
      // æ›´æ–°å¯¹è±¡ä¸­çš„å±æ€§æ•°æ®
      this.name = name
    }

    // å®ä¾‹æ–¹æ³•
    public run(num: number = 0): string {
      return 'å¤§å®¶å¥½ï¼Œæˆ‘å«' + this.name + 'æˆ‘è·‘äº†' + num + 'ç±³'
    }
  }
})()
// åˆ›å»ºçˆ¶ç±»çš„å®ä¾‹
const person1: Person = new Person('å¼ ä¸‰')
// ç±»çš„å¤–éƒ¨è®¿é—®ç±»ä¸­çš„æˆå‘˜å±æ€§
console.log(person1.name)
// ç±»çš„å¤–éƒ¨è®¿é—®ç±»ä¸­çš„æˆå‘˜æ–¹æ³•
console.log(person1.run())
// æ‰§è¡Œç»“æœ
// å¼ ä¸‰
// å¤§å®¶å¥½ï¼Œæˆ‘å«å¼ ä¸‰æˆ‘è·‘äº†0ç±³
```

### privateï¼ˆåªèƒ½ç±»å†…éƒ¨å¯ä»¥è®¿é—®,å­ç±»ä¹Ÿæ— æ³•è®¿é—®ï¼‰

```typescript
(() => {
  // å®šä¹‰ä¸€ä¸ªçˆ¶ç±»ï¼ˆè¶…ç±»ï¼‰
  class Person {
    // å®šä¹‰å±æ€§
    private name: string

    // æ„é€ æ–¹æ³•ï¼Œå®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™ï¼Œç›´æ¥å¯¹å±æ€§çš„å€¼è¿›è¡Œåˆå§‹åŒ–
    private constructor(name: string) {
      // æ›´æ–°å¯¹è±¡ä¸­çš„å±æ€§æ•°æ®
      this.name = name
    }

    // å®ä¾‹æ–¹æ³•
    private run(num: number = 0): string {
      return 'å¤§å®¶å¥½ï¼Œæˆ‘å«' + this.name + 'æˆ‘è·‘äº†' + num + 'ç±³'
    }
  }

  // å®šä¹‰ç¬¬ä¸€ä¸ªå­ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰
  class Student extends Person {
    // è°ƒç”¨çˆ¶ç±»ä¸­çš„æ„é€ å‡½æ•°
    constructor(name: string) {
      super(name);
    }

    // é‡å†™çˆ¶ç±»ä¸­çš„æ–¹æ³•
    run(num: number = 5): string {
      return 'å¤§å®¶å¥½ï¼Œæˆ‘å«' + this.name + 'æˆ‘è·‘äº†' + num + 'ç±³'
    }
  }
  // åˆ›å»ºçˆ¶ç±»çš„å®ä¾‹
  const person1: Person = new Person('å¼ ä¸‰')
  // ç±»çš„å¤–éƒ¨è®¿é—®ç±»ä¸­çš„æˆå‘˜å±æ€§
  console.log(person1.name)
  // ç±»çš„å¤–éƒ¨è®¿é—®ç±»ä¸­çš„æˆå‘˜æ–¹æ³•
  console.log(person1.run())
  // åˆ›å»ºå­ç±»1çš„å¯¹è±¡
  const student = new Student('æå››')
  console.log(student.run())
})()
one.ts(20,9): error TS2415: Class 'Student' incorrectly extends base class 'Person'.
  Property 'run' is private in type 'Person' but not in type 'Student'.
one.ts(20,25): error TS2675: Cannot extend a class 'Person'. Class constructor is marked as private.
one.ts(28,30): error TS2341: Property 'name' is private and only accessible within class 'Person'.
one.ts(32,27): error TS2673: Constructor of class 'Person' is private and only accessible within the class declaration.
one.ts(34,23): error TS2341: Property 'name' is private and only accessible within class 'Person'.
one.ts(36,23): error TS2341: Property 'run' is private and only accessible within class 'Person'.
```

- å¤–éƒ¨å’Œå­ç±»è®¿é—®å‡æŠ¥é”™

### protectedï¼ˆç±»å†…éƒ¨å’Œå­ç±»å¯ä»¥è®¿é—®ï¼‰

```typescript
(() => {
  // å®šä¹‰ä¸€ä¸ªçˆ¶ç±»ï¼ˆè¶…ç±»ï¼‰
  class Person {
    // å®šä¹‰å±æ€§
    protected name: string

    // æ„é€ æ–¹æ³•ï¼Œå®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™ï¼Œç›´æ¥å¯¹å±æ€§çš„å€¼è¿›è¡Œåˆå§‹åŒ–
    protected constructor(name: string) {
      // æ›´æ–°å¯¹è±¡ä¸­çš„å±æ€§æ•°æ®
      this.name = name
    }

    // å®ä¾‹æ–¹æ³•
    protected run(num: number = 0): string {
      return 'å¤§å®¶å¥½ï¼Œæˆ‘å«' + this.name + 'æˆ‘è·‘äº†' + num + 'ç±³'
    }
  }

  // å®šä¹‰ç¬¬ä¸€ä¸ªå­ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰
  class Student extends Person {
    // è°ƒç”¨çˆ¶ç±»ä¸­çš„æ„é€ å‡½æ•°
    constructor(name: string) {
      super(name);
    }

    // é‡å†™çˆ¶ç±»ä¸­çš„æ–¹æ³•
    run(num: number = 5): string {
      return 'å¤§å®¶å¥½ï¼Œæˆ‘å«' + this.name + 'æˆ‘è·‘äº†' + num + 'ç±³'
    }
  }
  // åˆ›å»ºçˆ¶ç±»çš„å®ä¾‹
  const person1: Person = new Person('å¼ ä¸‰')
  // ç±»çš„å¤–éƒ¨è®¿é—®ç±»ä¸­çš„æˆå‘˜å±æ€§
  console.log(person1.name)
  // ç±»çš„å¤–éƒ¨è®¿é—®ç±»ä¸­çš„æˆå‘˜æ–¹æ³•
  console.log(person1.run())
  // åˆ›å»ºå­ç±»çš„å¯¹è±¡
  const student = new Student('æå››')
  console.log(student.run())
})()
// è¾“å‡ºç»“æœ
// one.ts(32,27): error TS2674: Constructor of class 'Person' is protected and only accessible within the class declaration.
// one.ts(34,23): error TS2445: Property 'name' is protected and only accessible within class 'Person' and its subclasses.
// one.ts(36,23): error TS2445: Property 'run' is protected and only accessible within class 'Person' and its subclasses.
```

- å­ç±»ä½¿ç”¨æ­£å¸¸ï¼Œå¤–éƒ¨ä½¿ç”¨æŠ¥é”™

### readonly

> readonlyå…³é”®å­—å°†å±æ€§è®¾ç½®ä¸ºåªè¯»çš„ã€‚ åªè¯»å±æ€§å¿…é¡»åœ¨å£°æ˜æ—¶æˆ–æ„é€ å‡½æ•°é‡Œè¢«åˆå§‹åŒ–ã€‚å¤–éƒ¨ä¸èƒ½ä¿®æ”¹å±æ€§å€¼ï¼Œå†…éƒ¨æ™®é€šæ–¹æ³•ä¹Ÿä¸èƒ½ä¿®æ”¹ï¼Œåªèƒ½åœ¨åˆ›å»ºå¯¹è±¡åˆå§‹åŒ–æ—¶ï¼ŒæŒ‡å®šå±æ€§çš„å€¼

```typescript
(() => {
  // å®šä¹‰ä¸€ä¸ªçˆ¶ç±»ï¼ˆè¶…ç±»ï¼‰
  class Person {
    // å®šä¹‰å±æ€§
    readonly name: string
    // æ„é€ æ–¹æ³•ï¼Œå®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™ï¼Œç›´æ¥å¯¹å±æ€§çš„å€¼è¿›è¡Œåˆå§‹åŒ–
    constructor(name: string) {
      // æ›´æ–°å¯¹è±¡ä¸­çš„å±æ€§æ•°æ®
      this.name = name
    }

    // å®ä¾‹æ–¹æ³•
    run(): string {
      // ç±»å†…éƒ¨æ–¹æ³•ä¿®æ”¹æˆå‘˜å±æ€§
      return this.name = 'abc'
    }
  }
  // åˆ›å»ºçˆ¶ç±»çš„å®ä¾‹
  const person1: Person = new Person('å¼ ä¸‰')
  // ç±»çš„å¤–éƒ¨è®¿é—®ç±»ä¸­çš„æˆå‘˜å±æ€§
  console.log(person1.name)
  // ä¿®æ”¹å®ä¾‹çš„å±æ€§
  person1.name = 'æå››'
  console.log(person1.name)
})()
// è¾“å‡ºç»“æœ
// one.ts(14,19): error TS2540: Cannot assign to 'name' because it is a read-only property.
// one.ts(22,11): error TS2540: Cannot assign to 'name' because it is a read-only property.
```



### å­˜å–å™¨

> é€šè¿‡ `getters/setters` æ¥æˆªå–å¯¹å¯¹è±¡æˆå‘˜çš„è®¿é—®ã€‚ç”¨äºæ§åˆ¶å¯¹å¯¹è±¡æˆå‘˜çš„è®¿é—®ã€‚

```typescript
(() => {
  // å¤–éƒ¨å¯ä»¥ä¼ å…¥å§“æ°å’Œåå­—ï¼Œä½¿ç”¨setå’Œgetæ§åˆ¶å§“åæ•°æ®ï¼Œå¤–éƒ¨å¯ä»¥è®¿é—®å’Œä¿®æ”¹
  class Person{
    firstName:string // å§“
    lastName:string // å
    constructor(firstName:string,lastName:string) {
      this.firstName = firstName
      this.lastName = lastName
    }
    // è¯»å–å™¨â€”â€”è´Ÿè´£æ•°æ®è¯»å–
    get fullName(){
      return this.firstName + '-' + this.lastName
    }
    // è®¾ç½®å™¨â€”â€”è´Ÿè´£æ•°æ®çš„ä¿®æ”¹
    set fullName(val){
      let names = val.split('-')
      this.firstName = names[0]
      this.lastName = names[1]
    }
  }
  // å®ä¾‹åŒ–å¯¹è±¡
  const person:Person = new Person('ä¸œæ–¹','ä¸è´¥')
  // è·å–å¯¹è±¡çš„æˆå‘˜å±æ€§
  console.log(person.fullName)
  // è®¾ç½®å±æ€§çš„æ•°æ®
  person.fullName = 'è¯¸è‘›-å­”æ˜'
  console.log(person.fullName)
})()
// è¾“å‡ºç»“æœ
// ä¸œæ–¹-ä¸è´¥
// è¯¸è‘›-å­”æ˜ 
```

### é™æ€å±æ€§ä¸æ–¹æ³•

> é€šè¿‡staticä¿®é¥°çš„å±æ€§å’Œæ–¹æ³•ï¼Œåœ¨ä½¿ç”¨æ—¶ç›´æ¥é€šè¿‡ç±»å.çš„æ–¹å¼è°ƒç”¨

```typescript
/* 
é™æ€å±æ€§, æ˜¯ç±»å¯¹è±¡çš„å±æ€§
éé™æ€å±æ€§, æ˜¯ç±»çš„å®ä¾‹å¯¹è±¡çš„å±æ€§
*/
(() => {
  // å®šä¹‰ä¸€ä¸ªç±»
  class Person{
    // å®šä¹‰ä¸€ä¸ªé™æ€å±æ€§ã€‚ç±»ä¸­é»˜è®¤æœ‰ä¸€ä¸ªå†…ç½®çš„nameé™æ€å±æ€§ï¼Œä¸èƒ½å†²çª
    static names:string = 'å¼ ä¸‰'
    // å®šä¹‰ä¸€ä¸ªé™æ€æ–¹æ³•
    static sayHi(){
      console.log('Hi')
    }
  }
  // è°ƒç”¨ç±»çš„é™æ€å±æ€§
  console.log(Person.names)
  // è®¾ç½®ç±»çš„é™æ€å±æ€§å€¼
  Person.names = 'æå››'
  console.log(Person.names)
  // è°ƒç”¨ç±»çš„é™æ€æ–¹æ³•
  Person.sayHi()
})()
// è¾“å‡ºç»“æœ
// å¼ ä¸‰
// æå››
// Hi
```



### æŠ½è±¡ç±»

> æŠ½è±¡ç±»åšä¸ºå…¶å®ƒæ´¾ç”Ÿç±»çš„åŸºç±»ä½¿ç”¨ã€‚ å®ƒä»¬ä¸èƒ½è¢«å®ä¾‹åŒ–ã€‚ä¸åŒäºæ¥å£ï¼ŒæŠ½è±¡ç±»å¯ä»¥åŒ…å«æˆå‘˜çš„å®ç°ç»†èŠ‚ã€‚ `abstract` å…³é”®å­—æ˜¯ç”¨äºå®šä¹‰æŠ½è±¡ç±»å’Œåœ¨æŠ½è±¡ç±»å†…éƒ¨å®šä¹‰æŠ½è±¡æ–¹æ³•

```typescript
/* 
æŠ½è±¡ç±»
  ä¸èƒ½åˆ›å»ºå®ä¾‹å¯¹è±¡, åªæœ‰å®ç°ç±»æ‰èƒ½åˆ›å»ºå®ä¾‹
  å¯ä»¥åŒ…å«æœªå®ç°çš„æŠ½è±¡æ–¹æ³•
*/
(() => {
  // å®šä¹‰ä¸€ä¸ªæŠ½è±¡çˆ¶ç±»
  abstract class Person{
    // å®šä¹‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•(æŠ½è±¡ç±»ä¸­åªå®šä¹‰ï¼Œä¸èƒ½æœ‰å…·ä½“çš„å®ç°)
    abstract run()
    // å®šä¹‰ä¸€ä¸ªå®ä¾‹æ–¹æ³•
    sayHi(){
      console.log('Hi')
    }
  }
  // å®šä¹‰ä¸€ä¸ªå­ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰
  class Student extends Person{
    // é‡æ–°å®ç°æŠ½è±¡ç±»ä¸­çš„æ–¹æ³•ï¼Œæ­¤æ—¶è¿™ä¸ªæ–¹æ³•å°±æ˜¯å½“å‰Personç±»çš„å®ä¾‹æ–¹æ³•
    run(){
      console.log('æ•´é½çš„è·‘')
    }
  }
  // å®ä¾‹åŒ–studentå¯¹è±¡
  const student:Student = new Student()
  student.sayHi()
  // è°ƒç”¨æŠ½è±¡ç±»ä¸­çš„å®ä¾‹æ–¹æ³•
  student.run()
})()
// è¾“å‡ºç»“æœ
// Hi
// æ•´é½çš„è·‘
```



## 9. å‡½æ•°

> å‡½æ•°æ˜¯ JavaScript åº”ç”¨ç¨‹åºçš„åŸºç¡€ï¼Œå°†ç¨‹åºä¸­é‡å¤çš„ä»£ç é€šè¿‡å‡½æ•°å°è£…èµ·æ¥ï¼Œæé«˜ä»£ç å¤ç”¨ã€‚



### åŸºæœ¬ç¤ºä¾‹

> å’Œ JavaScript ä¸€æ ·ï¼ŒTypeScript å‡½æ•°å¯ä»¥åˆ›å»ºæœ‰åå­—çš„å‡½æ•°å’ŒåŒ¿åå‡½æ•°ã€‚
>
> TypeScriptæ”¯æŒåŸç”Ÿçš„JavaScriptå‡½æ•°æ ¼å¼

```typescript
(() => {
  // å‘½åå‡½æ•°(å‡½æ•°å£°æ˜)
  function add(x, y) {
    return x + y
  }

  // åŒ¿åå‡½æ•°(å‡½æ•°è¡¨è¾¾å¼)
  let myAdd = function (x, y) {
    return x + y;
  }
  // è°ƒç”¨å‘½åå‡½æ•°
  console.log(add(1,2))
  // è°ƒç”¨åŒ¿åå‡½æ•°
  console.log(myAdd(2,3))
})()
// è¾“å‡ºç»“æœ
// 3
// 5
```



### å‡½æ•°ç±»å‹

> TypeScriptæ˜¯ä¸€é—¨å¼ºç±»å‹è¯­è¨€ï¼Œæ¨èåœ¨ä½¿ç”¨å‡½æ•°æ—¶ï¼Œç»™å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼æŒ‡å®šç±»å‹

```typescript
(() => {
  // å‘½åå‡½æ•°(å‡½æ•°å£°æ˜)
  function add(x:string, y:string):string {
    return x + y
  }

  // åŒ¿åå‡½æ•°(å‡½æ•°è¡¨è¾¾å¼)
  let myAdd = function (x:number, y:number):number {
    return x + y;
  }
  // è°ƒç”¨å‘½åå‡½æ•°
  console.log(add('1','2'))
  // è°ƒç”¨åŒ¿åå‡½æ•°
  console.log(myAdd(2,3))
})()
// è¾“å‡ºç»“æœ
// 12
// 5
```

### å®Œæ•´å†™æ³•

```typescript
(() => {
  // myAddâ€”â€”å˜é‡å
  // (x: number, y: number) => numberâ€”â€”å½“å‰è¿™ä¸ªmyAddå‡½æ•°çš„ç±»å‹
  // function (x: number, y: number): number { return x + y }â€”â€”ç¬¦åˆä¸Šé¢è¿™ä¸ªå‡½æ•°ç±»å‹çš„å€¼
  let myAdd: (x: number, y: number) => number = function (x: number, y: number): number {
    return x + y
  }
  // è°ƒç”¨å‡½æ•°
  console.log(myAdd(2, 3))
})()
// è¾“å‡ºç»“æœ
// 5
```



### å¯é€‰å‚æ•°å’Œé»˜è®¤å‚æ•°

>é»˜è®¤å‚æ•°ï¼šå‡½æ•°åœ¨å£°æ˜çš„æ—¶å€™ï¼Œå†…éƒ¨çš„å‚æ•°ç”¨=æŒ‡å®šä¸€ä¸ªé»˜è®¤å€¼ï¼Œè¡¨ç¤ºè¯¥å‚æ•°æ˜¯é»˜è®¤å‚æ•°
>
>å¯é€‰å‚æ•°ï¼šå‡½æ•°åœ¨å£°æ˜çš„æ—¶å€™ï¼Œå†…éƒ¨çš„å‚æ•°ç”¨ï¼Ÿä¿®é¥°ï¼Œè¡¨ç¤ºè¯¥å‚æ•°å¯æœ‰å¯æ— 

ç¤ºä¾‹ï¼šå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥å§“æ°å’Œåå­—ï¼Œå¾—åˆ°å§“å

- éœ€æ±‚ï¼šå¦‚æœä¸ä¼ å…¥ä»»ä½•å†…å®¹ï¼Œè¿”å›é»˜è®¤çš„å§“æ°ï¼ˆå§“æ°é»˜è®¤å‚æ•°ï¼‰
- éœ€æ±‚ï¼šå¦‚æœåªä¼ å…¥å§“æ°ï¼Œå°±è¿”å›å§“æ°ï¼ˆåå­—å¯é€‰å‚æ•°ï¼‰
- éœ€æ±‚ï¼šå¦‚æœä¼ å…¥å§“æ°å’Œåå­—ï¼Œå°±è¿”å›å§“å

```typescript
(() => {
  let fullName = function (firstName: string = 'è¯¸è‘›', lastName?: string): string {
    // åˆ¤æ–­æ˜¯å¦ä¼ å…¥äº†åå­—
    if (lastName) {
      return firstName + '-' + lastName
    } else {
      return firstName
    }
  }
  // ä»€ä¹ˆä¹Ÿä¸ä¼ å…¥
  console.log(fullName())
  // ä¼ å…¥å§“æ°
  console.log(fullName('æ¬§é˜³'))
  // ä¼ å…¥å§“æ°å’Œåå­—
  console.log(fullName('æ¬§é˜³', 'å³°'))
})()
// è¾“å‡ºç»“æœ
// è¯¸è‘›
// æ¬§é˜³
// æ¬§é˜³-å³°
```

### å‰©ä½™å‚æ•°

> æœ‰æ—¶ï¼Œä½ æƒ³åŒæ—¶æ“ä½œå¤šä¸ªå‚æ•°ï¼Œæˆ–è€…ä½ å¹¶ä¸çŸ¥é“ä¼šæœ‰å¤šå°‘å‚æ•°ä¼ é€’è¿›æ¥ã€‚ åœ¨ TypeScript é‡Œï¼Œä½ å¯ä»¥æŠŠæ‰€æœ‰å‚æ•°æ”¶é›†åˆ°ä¸€ä¸ªå˜é‡é‡Œï¼š
>
> å‰©ä½™å‚æ•°ä¼šè¢«å½“åšä¸ªæ•°ä¸é™çš„å¯é€‰å‚æ•°ã€‚ å¯ä»¥ä¸€ä¸ªéƒ½æ²¡æœ‰ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥  æœ‰ä»»æ„ä¸ªã€‚ 

```typescript
(() => {
  function showMsg(str1: string, str2: string, ...other: string[]): void {
    console.log(str1)
    console.log(str2)
    console.log(other)
  }
  showMsg('æ¬§', 'æ¨', 'å³°', 'æ˜¯', 'å¥½', 'äºº', 'å—')
})()
// è¾“å‡ºç»“æœ
// æ¬§
// æ¨
// (5)Â ["å³°", "æ˜¯", "å¥½", "äºº", "å—"]
```



### å‡½æ•°é‡è½½

> å‡½æ•°åå­—ç›¸åŒï¼Œä½†å‡½æ•°çš„å‚æ•°å’Œä¸ªæ•°ä¸åŒ

éœ€æ±‚ï¼šå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå½“ä¼ å…¥ä¸¤ä¸ªstringæ—¶ï¼Œè¿›è¡Œæ‹¼æ¥ã€‚å½“ä¼ å…¥ä¸¤ä¸ªnumberæ—¶ï¼Œè¿›è¡Œç›¸åŠ ã€‚

```typescript
(() => {
  // å‡½æ•°é‡è½½å£°æ˜
  function add(x:string,y:string):string
  function add(x:number,y:number):number
  function add(x: string|number, y: string|number): string|number {
    if (typeof x==='string' && typeof y==='string'){
      return x+y //å­—ç¬¦ä¸²æ‹¼æ¥
    }else if (typeof x==='number' && typeof y==='number'){
      return x+y //æ•°å­—ç›¸åŠ 
    }
  }
  console.log(add('1','2'))
  console.log(add(1,2))
  // å¦‚æœä¼ å…¥æ•°æ®éæ³•ï¼Œtsç¼–è¯‘ç›´æ¥æŠ¥é”™
  console.log(add('1',2))
})()
// è¾“å‡ºç»“æœ
// 12
// 3
//   Overload 1 of 2, '(x: string, y: string): string', gave the following error.
//     Argument of type 'number' is not assignable to parameter of type 'string'.
//   Overload 2 of 2, '(x: number, y: number): number', gave the following error.
//     Argument of type 'string' is not assignable to parameter of type 'number'.
```

## 10.æ³›å‹

> åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“çš„ç±»å‹ï¼Œè€Œåœ¨ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šå…·ä½“ç±»å‹ã€‚

### å‡½æ•°æ³›å‹

éœ€æ±‚ï¼šå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ•°æ®ï¼Œç¬¬äºŒä¸ªæ˜¯æ•°é‡ï¼Œç”Ÿæˆä¸€ä¸ªæ•°æ®*æ•°é‡çš„æ•°ç»„

```typescript
(() => {
  // æ ¹æ®ä¼ å…¥çš„æ•°æ®å’Œæ•°é‡ï¼Œç”Ÿæˆä¸€ä¸ªæ•°æ®*æ•°é‡çš„æ•°ç»„
  function getArr(value:any,count:number):any[]{
    const arr:any[]=[]
    for (let i=0;i<count;i++){
      arr.push(value)
    }
    return arr
  }
  console.log(getArr(1,3))
  console.log(getArr('1',3))
})()
// è¾“å‡ºç»“æœ
// (3)Â [1, 1, 1]
// (3)Â ["1", "1", "1"]
```

### å¤šä¸ªæ³›å‹å‚æ•°çš„å‡½æ•°

ä¸€ä¸ªå‡½æ•°ä¸­å¯ä»¥æœ‰å¤šä¸ªæ³›å‹å‚æ•°

```typescript
(() => {
  // ä½¿ç”¨kå’Œvè¡¨ç¤ºä¸åŒçš„å€¼ç±»å‹ï¼Œæ‰€æœ‰å¼•ç”¨äº†Kçš„å˜é‡ç±»å‹ä¸€è‡´ï¼ŒVä¹Ÿæ˜¯
  function swap<K, V>(a: K, b: V): [K, V] {
    return [a, b]
  }
	// è°ƒç”¨çš„æ—¶å€™æŒ‡å®šå‚æ•°çš„ç±»å‹
  const result = swap<string, number>('abc', 123)
  // tsç¼–è¯‘å™¨è¯†åˆ«å‡ºå˜é‡çš„ç±»å‹ï¼Œå¹¶æä¾›ç›¸å…³çš„æ–¹æ³•æç¤º
  console.log(result[0].length, result[1].toFixed())
})()
// è¾“å‡ºç»“æœ
// 3 "123"
```

### æ³›å‹æ¥å£

> åœ¨å®šä¹‰æ¥å£æ—¶, ä¸ºæ¥å£ä¸­çš„å±æ€§æˆ–æ–¹æ³•å®šä¹‰æ³›å‹ç±»å‹
>
> åœ¨ä½¿ç”¨æ¥å£æ—¶, å†æŒ‡å®šå…·ä½“çš„æ³›å‹ç±»å‹

```typescript
(() => {
  // åœ¨å®šä¹‰æ¥å£æ—¶, ä¸ºæ¥å£ä¸­çš„å±æ€§æˆ–æ–¹æ³•å®šä¹‰æ³›å‹ç±»å‹
  interface IbaseCRUD <T> {
    data: T[]
    add: (t: T) => void
  }
  // åœ¨ä½¿ç”¨æ¥å£æ—¶, å†æŒ‡å®šå…·ä½“çš„æ³›å‹ç±»å‹
  // å®šä¹‰ä¸€ä¸ªç±»ï¼Œå¹¶æŒ‡å®šæˆå‘˜å±æ€§çš„å€¼ç±»å‹
  class User {
    id?: number; //idä¸»é”®è‡ªå¢
    name: string; //å§“å
    age: number; //å¹´é¾„
    // æ„é€ æ–¹æ³•ï¼Œæ›´æ–°å±æ€§æ•°æ®
    constructor (name, age) {
      this.name = name
      this.age = age
    }
  }
  // å®šä¹‰ä¸€ä¸ªç±»ï¼Œè¿™ä¸ªç±»çš„ç±»å‹å°±æ˜¯ä¸Šé¢å®šä¹‰çš„æ¥å£ï¼Œä¼ å…¥ä¸Šé¢å®šä¹‰çš„ç±»
  class UserCRUD implements IbaseCRUD <User> {
    data: User[] = []

    add(user: User): void {
      user = {...user, id: Date.now()}
      this.data.push(user)
      console.log('ä¿å­˜user', user.id)
    }
  }

  // å®ä¾‹åŒ–å¯¹è±¡
  const userCRUD = new UserCRUD()
  // è°ƒç”¨addæ–¹æ³•æ·»åŠ ç”¨æˆ·åˆ°useråˆ—è¡¨
  userCRUD.add(new User('tom', 12))
  userCRUD.add(new User('tom2', 13))
  console.log(userCRUD.data)
})()
// è¾“å‡ºç»“æœ
// ä¿å­˜user 1614172477494
// ä¿å­˜user 1614172477495
//
// (2) [{â€¦}, {â€¦}]
// 0: {name: "tom", age: 12, id: 1614172477494}
// 1: {name: "tom2", age: 13, id: 1614172477495}
// length: 2
```

### æ³›å‹ç±»

> åœ¨å®šä¹‰ç±»æ—¶, ä¸ºç±»ä¸­çš„å±æ€§æˆ–æ–¹æ³•å®šä¹‰æ³›å‹ç±»å‹ åœ¨åˆ›å»ºç±»çš„å®ä¾‹æ—¶, å†æŒ‡å®šç‰¹å®šçš„æ³›å‹ç±»å‹

```typescript
(() => {
  // å®šä¹‰ä¸€ä¸ªç±», ç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•å®šä¹‰æ³›å‹ç±»å‹ï¼ˆTè¡¨ç¤ºåŒç§ç±»å‹ï¼‰
  class GenericNumber<T> {
    zeroValue: T
    add: (x: T, y: T) => T
  }
  // å®ä¾‹åŒ–å¯¹è±¡ï¼ŒæŒ‡å®šç±»å‹ä¸ºnumber
  let myGenericNumber = new GenericNumber<number>()
  myGenericNumber.zeroValue = 0
  myGenericNumber.add = function (x, y) {
    return x + y
  }
  // è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•ï¼Œä¼ å…¥numberå‚æ•°
  console.log(myGenericNumber.add(myGenericNumber.zeroValue, 12))
  // å®ä¾‹åŒ–å¯¹è±¡ï¼ŒæŒ‡å®šç±»å‹ä¸ºstring
  let myGenericString = new GenericNumber<string>()
  myGenericString.zeroValue = 'abc'
  myGenericString.add = function (x, y) {
    return x + y
  }
  // è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•ï¼Œä¼ ä¼ å…¥stringå‚æ•°
  console.log(myGenericString.add(myGenericString.zeroValue, '-def'))
})()
// è¾“å‡ºç»“æœ
// 12
// abc-def
```

### æ³›å‹çº¦æŸ

**æ²¡æœ‰æ³›å‹çº¦æŸ**

```typescript
(() => {
  function fn <T>(x: T): void {
    // å¯¹ä¸€ä¸ªæ³›å‹å‚æ•°å– length å±æ€§, ä¼šæŠ¥é”™, å› ä¸ºè¿™ä¸ªæ³›å‹æ ¹æœ¬å°±ä¸çŸ¥é“å®ƒæœ‰è¿™ä¸ªå±æ€§
    console.log(x.length)
  }
})()
// è¾“å‡ºç»“æœ
error TS2339: Property 'length' does not exist on type 'T'.
```



**ä½¿ç”¨æ³›å‹çº¦æŸ**

```typescript
(() => {
// å®šä¹‰ä¸€ä¸ªæ³›å‹çº¦æŸ
  interface Lengthwise {
    length: number;
  }

// æŒ‡å®šæ³›å‹çº¦æŸ
  function fn2<T extends Lengthwise>(x: T): void {
    console.log(x.length)
  }

  fn2('abc')
// å½“ä¼ å…¥å€¼ä¸ç¬¦åˆçº¦æŸç±»å‹æ—¶ï¼Œä¼šæŠ¥é”™ï¼š
  fn2(123) // error  numberæ²¡æœ‰lengthå±æ€§
})()
// è¾“å‡ºç»“æœ
// 3
// error TS2345: Argument of type 'number' is not assignable to parameter of type 'Lengthwise'.
```







